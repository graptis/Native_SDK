<!-- HTML header for doxygen 1.8.4-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="generator" content="Doxygen 1.8.6"/>
<title>PVRUtils: /usr/buildxl/buildroot/sdk/branch/SDK/framework/PVRUtils/Vulkan/HelperVk.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="IMGdoxygen.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" type="image/x-icon" href="img.ico">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
  <div class="headercontent">
    <div class="PVRlogo">
      <a href="https://www.imgtec.com/developers/" target="_blank"><img src="PVRlogo.png" width="40%" height="40%"  border="none" /></a>
    </div>
    <a class="SiteTitle"><span id="projectname">PVRUtils</span> Documentation</a>
   <tbody>
  </div>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_687531cb5acd5e736601deea3ef3b7c0.html">SDK</a></li><li class="navelem"><a class="el" href="dir_407ce59cc93389552d4bbf4df897abf8.html">framework</a></li><li class="navelem"><a class="el" href="dir_56a6b2806f907a59546ae220133253ab.html">PVRUtils</a></li><li class="navelem"><a class="el" href="dir_2a4e396b2e69f22c2b04ad2a158af6a3.html">Vulkan</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">HelperVk.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_helper_vk_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &quot;PVRCore/PVRCore.h&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;PVRCore/stream/FileStream.h&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;PVRAssets/Model.h&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;PVRAssets/PVRAssets.h&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;PVRCore/texture/TextureLoad.h&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;PVRVk/DeviceVk.h&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;PVRVk/PhysicalDeviceVk.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;PVRVk/InstanceVk.h&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;PVRVk/CommandBufferVk.h&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;PVRVk/ImageVk.h&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;PVRVk/SurfaceVk.h&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_convert_to_p_v_r_vk_types_8h.html">ConvertToPVRVkTypes.h</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;PVRVk/CommandPoolVk.h&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;PVRVk/QueueVk.h&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;PVRVk/RenderPassVk.h&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;PVRVk/FramebufferVk.h&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;PVRVk/SwapchainVk.h&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_memory_allocator_8h.html">PVRUtils/Vulkan/MemoryAllocator.h</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_multi_object_8h.html">PVRUtils/MultiObject.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span>pvr {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="keyword">namespace </span>utils {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;pvrvk::ImageAspectFlags inferAspectFromFormat(pvrvk::Format format);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keywordtype">void</span> getColorBits(pvrvk::Format format, uint32_t&amp; redBits, uint32_t&amp; greenBits, uint32_t&amp; blueBits, uint32_t&amp; alphaBits);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keywordtype">void</span> getDepthStencilBits(pvrvk::Format format, uint32_t&amp; depthBits, uint32_t&amp; stencilBits);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;pvrvk::Buffer <a class="code" href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">createBuffer</a>(pvrvk::Device device, VkDeviceSize size, pvrvk::BufferUsageFlags bufferUsage, pvrvk::MemoryPropertyFlags requiredMemoryFlags,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    pvrvk::MemoryPropertyFlags optimalMemoryFlags = pvrvk::MemoryPropertyFlags::e_NONE, vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT, pvrvk::BufferCreateFlags bufferCreateFlags = pvrvk::BufferCreateFlags(0),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    pvrvk::SharingMode sharingMode = pvrvk::SharingMode::e_EXCLUSIVE, <span class="keyword">const</span> uint32_t* queueFamilyIndices = <span class="keyword">nullptr</span>, uint32_t numQueueFamilyIndices = 0);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#a2ea80135aa97006c881f5d3fface1563">createImage</a>(pvrvk::Device device, pvrvk::ImageType imageType, pvrvk::Format format, <span class="keyword">const</span> pvrvk::Extent3D&amp; dimension, pvrvk::ImageUsageFlags usage,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    pvrvk::ImageCreateFlags flags = pvrvk::ImageCreateFlags(0), <span class="keyword">const</span> pvrvk::ImageLayersSize&amp; layerSize = pvrvk::ImageLayersSize(),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    pvrvk::SampleCountFlags samples = pvrvk::SampleCountFlags::e_1_BIT, pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    pvrvk::MemoryPropertyFlags optimalMemoryFlags = pvrvk::MemoryPropertyFlags::e_NONE, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE, pvrvk::SharingMode sharingMode = pvrvk::SharingMode::e_EXCLUSIVE,</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    pvrvk::ImageTiling tiling = pvrvk::ImageTiling::e_OPTIMAL, pvrvk::ImageLayout initialLayout = pvrvk::ImageLayout::e_UNDEFINED, <span class="keyword">const</span> uint32_t* queueFamilyIndices = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    uint32_t numQueueFamilyIndices = 0);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a3555f264beaaf83ff1b84853a87a40fe">  106</a></span>&#160;<span class="keyword">inline</span> glm::mat4 <a class="code" href="namespacepvr_1_1utils.html#a3555f264beaaf83ff1b84853a87a40fe">getPerspectiveMatrix</a>(<span class="keywordtype">float</span> fovy, <span class="keywordtype">float</span> aspect, <span class="keywordtype">float</span> near1, <span class="keywordtype">float</span> far1, <span class="keywordtype">float</span> rotate = .0f)</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    glm::mat4 mat = glm::perspective(fovy, aspect, near1, far1);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    mat[1][1] *= -1.f; <span class="comment">// negate the y axis&#39;s y component, because vulkan coordinate system is +y down</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span> (rotate == 0.f ? mat : glm::rotate(rotate, glm::vec3(0.0f, 0.0f, 1.0f)) * mat);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;}</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a5aa9ef93f949ec94122ac1f5d915f8a0">setImageLayoutAndQueueFamilyOwnership</a>(pvrvk::CommandBufferBase srccmd, pvrvk::CommandBufferBase dstcmd, uint32_t srcQueueFamily, uint32_t dstQueueFamily,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    pvrvk::ImageLayout oldLayout, pvrvk::ImageLayout newLayout, <a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a> image, uint32_t baseMipLevel, uint32_t numMipLevels, uint32_t baseArrayLayer, uint32_t numArrayLayers,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    pvrvk::ImageAspectFlags aspect);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a8ea166ded6ff46a11573815a99f42869">  135</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a8ea166ded6ff46a11573815a99f42869">setImageLayout</a>(<a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a> image, pvrvk::ImageLayout oldLayout, pvrvk::ImageLayout newLayout, pvrvk::CommandBufferBase transitionCmdBuffer)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a5aa9ef93f949ec94122ac1f5d915f8a0">setImageLayoutAndQueueFamilyOwnership</a>(transitionCmdBuffer, pvrvk::CommandBufferBase(), static_cast&lt;uint32_t&gt;(-1), static_cast&lt;uint32_t&gt;(-1), oldLayout, newLayout, image, 0,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        image-&gt;getNumMipLevels(), 0, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(image-&gt;getNumArrayLayers() * (1 + image-&gt;isCubeMap() * 5)), inferAspectFromFormat(image-&gt;getFormat()));</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#a5ca384f4d2465e5f979e0d1c10f70394">uploadImageAndViewSubmit</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> Texture&amp; texture, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandPool&amp; cmdPool, pvrvk::Queue&amp; queue,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#a0bd6e8b8a62c678202323873aeda6115">uploadImageAndView</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> Texture&amp; texture, <span class="keywordtype">bool</span> allowDecompress, pvrvk::SecondaryCommandBuffer&amp; commandBuffer,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#a0bd6e8b8a62c678202323873aeda6115">uploadImageAndView</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> Texture&amp; texture, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer,</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#a94564335e1a4bb4afe501e4b90c9c25e">uploadImage</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> Texture&amp; texture, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#ad7010e7802edc5e1cc101034ac386d37">loadAndUploadImageAndView</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <span class="keywordtype">char</span>* fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer, IAssetProvider&amp; assetProvider,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#a9bf319f2a39bf8149f2c8c4b36b1382a">loadAndUploadImage</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <span class="keywordtype">char</span>* fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::CommandBuffer&amp; commandBuffer, IAssetProvider&amp; assetProvider,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;pvrvk::ImageView <a class="code" href="namespacepvr_1_1utils.html#ad7010e7802edc5e1cc101034ac386d37">loadAndUploadImageAndView</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <span class="keywordtype">char</span>* fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::SecondaryCommandBuffer&amp; commandBuffer,</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    IAssetProvider&amp; assetProvider, pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT,</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a> <a class="code" href="namespacepvr_1_1utils.html#a9bf319f2a39bf8149f2c8c4b36b1382a">loadAndUploadImage</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <span class="keywordtype">char</span>* fileName, <span class="keywordtype">bool</span> allowDecompress, pvrvk::SecondaryCommandBuffer&amp; commandBuffer, IAssetProvider&amp; assetProvider,</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    pvrvk::ImageUsageFlags usageFlags = pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    Texture* outAssetTexture = <span class="keyword">nullptr</span>, vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html">  302</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_image_update_info.html">ImageUpdateInfo</a></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;{</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">// 1D/Array texture and common for rest</span></div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a9c2480ee85781549db081da54c7cbf7b">  305</a></span>&#160;    int32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a9c2480ee85781549db081da54c7cbf7b">offsetX</a>; </div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#ae8eb6603e41f6af5b9ddfbe6d6485570">  306</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#ae8eb6603e41f6af5b9ddfbe6d6485570">imageWidth</a>; </div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a8d9cfeb4d88791e650d994402d00511c">  307</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a8d9cfeb4d88791e650d994402d00511c">dataWidth</a>; </div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a6cde0ffe41f15363a6589bf287aa30d3">  308</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a6cde0ffe41f15363a6589bf287aa30d3">arrayIndex</a>; </div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a1b452f639a4e507f7d3bdfaf529da029">  309</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a1b452f639a4e507f7d3bdfaf529da029">mipLevel</a>; </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a66c0abcd177d448a4b0a140321fa1427">  310</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a66c0abcd177d448a4b0a140321fa1427">data</a>; </div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a35ffe0060a18ba6f85103107860e465a">  311</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a35ffe0060a18ba6f85103107860e465a">dataSize</a>; </div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">// 2D/ Array texture only</span></div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a3bae3542769781673b17522db91c19b0">  314</a></span>&#160;    int32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a3bae3542769781673b17522db91c19b0">offsetY</a>; </div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a63830a23335c0e841e02b4f02f0363f7">  315</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a63830a23335c0e841e02b4f02f0363f7">imageHeight</a>; </div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a7088e032f08263a7d72acafbd6c93fca">  316</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a7088e032f08263a7d72acafbd6c93fca">dataHeight</a>; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// cube/ Array Map only. Derive all states above</span></div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#a74171c9f0e1ea8f1eac9a991349389a6">  319</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a74171c9f0e1ea8f1eac9a991349389a6">cubeFace</a>; </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// 3D texture Only. Derive all states above Except arrayIndex</span></div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#af9bdb2f2512ec72d5669ae3b870d7fa5">  322</a></span>&#160;    int32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#af9bdb2f2512ec72d5669ae3b870d7fa5">offsetZ</a>; </div>
<div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_image_update_info.html#ac9fe2c31e80c1a067508d5d288f12801">  323</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#ac9fe2c31e80c1a067508d5d288f12801">depth</a>; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html">ImageUpdateInfo</a>()</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        : <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a9c2480ee85781549db081da54c7cbf7b">offsetX</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#ae8eb6603e41f6af5b9ddfbe6d6485570">imageWidth</a>(1), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a8d9cfeb4d88791e650d994402d00511c">dataWidth</a>(1), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a1b452f639a4e507f7d3bdfaf529da029">mipLevel</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a66c0abcd177d448a4b0a140321fa1427">data</a>(nullptr), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a35ffe0060a18ba6f85103107860e465a">dataSize</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a3bae3542769781673b17522db91c19b0">offsetY</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a63830a23335c0e841e02b4f02f0363f7">imageHeight</a>(1), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a7088e032f08263a7d72acafbd6c93fca">dataHeight</a>(1), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#a74171c9f0e1ea8f1eac9a991349389a6">cubeFace</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#af9bdb2f2512ec72d5669ae3b870d7fa5">offsetZ</a>(0), <a class="code" href="structpvr_1_1utils_1_1_image_update_info.html#ac9fe2c31e80c1a067508d5d288f12801">depth</a>(1)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    {}</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;};</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a71cc4019e6c6315a8a714f4103bfe503">updateImage</a>(pvrvk::Device&amp; device, pvrvk::CommandBufferBase transferCommandBuffer, ImageUpdateInfo* updateInfos, uint32_t numUpdateInfos, pvrvk::Format format,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    pvrvk::ImageLayout layout, <span class="keywordtype">bool</span> isCubeMap, <a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a>&amp; image, vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">  355</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(pvrvk::Buffer&amp; buffer, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, VkDeviceSize offset = 0, VkDeviceSize size = VK_WHOLE_SIZE, <span class="keywordtype">bool</span> flushMemory = <span class="keyword">false</span>)</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">void</span>* mapData = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordtype">bool</span> unmap = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="keywordflow">if</span> (!buffer-&gt;getDeviceMemory()-&gt;isMapped())</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        mapData = buffer-&gt;getDeviceMemory()-&gt;map(offset, size);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        unmap = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        mapData = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span>*<span class="keyword">&gt;</span>(buffer-&gt;getDeviceMemory()-&gt;getMappedData()) + offset;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    }</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    memcpy(mapData, data, (<span class="keywordtype">size_t</span>)size);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordflow">if</span> (static_cast&lt;uint32_t&gt;(buffer-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_COHERENT_BIT) != 0)</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    {</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        flushMemory = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordflow">if</span> (flushMemory)</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        buffer-&gt;getDeviceMemory()-&gt;flushRange(offset, size);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    }</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">if</span> (unmap)</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    {</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        buffer-&gt;getDeviceMemory()-&gt;unmap();</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;}</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">  395</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">updateBufferUsingStagingBuffer</a>(pvrvk::Device&amp; device, pvrvk::Buffer&amp; buffer, pvrvk::CommandBufferBase uploadCmdBuffer, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, VkDeviceSize offset = 0,</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    VkDeviceSize size = VK_WHOLE_SIZE, vma::Allocator* stagingBufferAllocator = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;{</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// Updating memory via the use of staging buffers is necessary when memory is not host visible. In this case the buffer memory will be updated indirectly as follows:</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">//      1. Create a staging buffer</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">//      2. map the staging buffer memory, update the memory, then unmap the buffer memory</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">//      3. Copy from the staging buffer to the target buffer</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">// 1. Create a staging buffer</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    pvrvk::MemoryPropertyFlags memoryFlags = pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    pvrvk::Buffer stagingBuffer = <a class="code" href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">pvr::utils::createBuffer</a>(device, size, pvrvk::BufferUsageFlags::e_TRANSFER_SRC_BIT, memoryFlags, memoryFlags, stagingBufferAllocator);</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// 2. map (if required), then update the memory, then finally unmap (if required)</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(stagingBuffer, data, offset, size, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <span class="comment">// 3. Copy from the staging buffer to the target buffer</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keyword">const</span> pvrvk::BufferCopy bufferCopy(0, offset, size);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    uploadCmdBuffer-&gt;copyBuffer(stagingBuffer, buffer, 1, &amp;bufferCopy);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;}</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a5d3d1522b9db9f69b91090f918ccc8c0">generateTextureAtlas</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> <a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a>* inputImages, pvrvk::Rect2Df* outUVs, uint32_t numImages, pvrvk::ImageLayout inputImageLayout,</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    pvrvk::ImageView* outImageView, TextureHeader* outDescriptor, pvrvk::CommandBufferBase cmdBuffer, pvrvk::ImageLayout finalLayout = pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL,</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags imageAllocationCreateFlags = vma::AllocationCreateFlags::e_NONE);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html">  436</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html">QueuePopulateInfo</a></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div>
<div class="line"><a name="l00439"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">  439</a></span>&#160;    pvrvk::QueueFlags <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">  442</a></span>&#160;    pvrvk::Surface <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">surface</a>;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">  445</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#a5eeb3d84dac92d6718f2b6d7f03d653d">  450</a></span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a5eeb3d84dac92d6718f2b6d7f03d653d">QueuePopulateInfo</a>(pvrvk::QueueFlags <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>, <span class="keywordtype">float</span> <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a> = 1.0f) : queueFlags(queueFlags), <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>(<a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>) {}</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8d5ad873b0ae0c6c8c82511c5e7a72aa">  456</a></span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8d5ad873b0ae0c6c8c82511c5e7a72aa">QueuePopulateInfo</a>(pvrvk::QueueFlags <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">queueFlags</a>, pvrvk::Surface&amp; <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">surface</a>, <span class="keywordtype">float</span> <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a> = 1.0f) : queueFlags(queueFlags), surface(surface), <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>(<a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">priority</a>) {}</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;};</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_access_info.html">  461</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html">QueueAccessInfo</a></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;{</div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_access_info.html#a6d0e303c656d8312932d268db869596a">  464</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html#a6d0e303c656d8312932d268db869596a">familyId</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00467"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_queue_access_info.html#ae5df4d78d8d64b5009b8c5a9e36c0e23">  467</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html#ae5df4d78d8d64b5009b8c5a9e36c0e23">queueId</a>;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;};</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_device_extensions.html">  471</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_device_extensions.html">DeviceExtensions</a></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_device_extensions.html#a958e2eeac8ddfd9ea8dabaaa8d2f35cf">  473</a></span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html#a958e2eeac8ddfd9ea8dabaaa8d2f35cf">extensionStrings</a>; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html#ab080c06dadfec28a35acd108a24a87c6">DeviceExtensions</a>()</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="preprocessor">#ifdef VK_KHR_swapchain</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="preprocessor"></span>        <span class="comment">// enable the swap chain extension</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html#a958e2eeac8ddfd9ea8dabaaa8d2f35cf">extensionStrings</a>.push_back(VK_KHR_SWAPCHAIN_EXTENSION_NAME);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="preprocessor">#ifdef VK_IMG_format_pvrtc</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;<span class="preprocessor"></span>        <span class="comment">// attempt to enable pvrtc extension</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html#a958e2eeac8ddfd9ea8dabaaa8d2f35cf">extensionStrings</a>.push_back(VK_IMG_FORMAT_PVRTC_EXTENSION_NAME);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="preprocessor">#ifdef VK_IMG_filter_cubic</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="preprocessor"></span>        <span class="comment">// attempt to enable IMG cubic filtering</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html#a958e2eeac8ddfd9ea8dabaaa8d2f35cf">extensionStrings</a>.push_back(VK_IMG_FILTER_CUBIC_EXTENSION_NAME);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;<span class="preprocessor">#ifdef DEBUG</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#ifdef VK_EXT_debug_marker</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;<span class="preprocessor"></span>        <span class="comment">// if the build is Debug then enable the DEBUG_MARKER extension to aid with debugging</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html#a958e2eeac8ddfd9ea8dabaaa8d2f35cf">extensionStrings</a>.push_back(VK_EXT_DEBUG_MARKER_EXTENSION_NAME);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;};</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_instance_layers.html">  502</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_instance_layers.html">InstanceLayers</a></div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;{</div>
<div class="line"><a name="l00505"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_instance_layers.html#a80f41cec0f1759be144113066bdcd68c">  505</a></span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="structpvr_1_1utils_1_1_instance_layers.html#a80f41cec0f1759be144113066bdcd68c">layersStrings</a>;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_instance_layers.html#a847198ad122769b11e33da68c05725cd">  510</a></span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_instance_layers.html#a847198ad122769b11e33da68c05725cd">InstanceLayers</a>(<span class="keywordtype">bool</span> forceLayers =</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;#ifdef DEBUG</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                       <span class="keyword">true</span>)</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="preprocessor"></span>                       <span class="keyword">false</span>)</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;#endif</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">// if the build is Debug then enable the LUNARG_standard_validation layer to aid with debugging</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (forceLayers)</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <a class="code" href="structpvr_1_1utils_1_1_instance_layers.html#a80f41cec0f1759be144113066bdcd68c">layersStrings</a>.push_back(<span class="stringliteral">&quot;VK_LAYER_LUNARG_standard_validation&quot;</span>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <a class="code" href="structpvr_1_1utils_1_1_instance_layers.html#a80f41cec0f1759be144113066bdcd68c">layersStrings</a>.push_back(<span class="stringliteral">&quot;VK_LAYER_ARM_mali_perf_doc&quot;</span>);</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;};</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_instance_extensions.html">  527</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_instance_extensions.html">InstanceExtensions</a></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;{</div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_instance_extensions.html#a494d9b581ffb708349599aabc2a5838a">  529</a></span>&#160;    std::vector&lt;std::string&gt; <a class="code" href="structpvr_1_1utils_1_1_instance_extensions.html#a494d9b581ffb708349599aabc2a5838a">extensionStrings</a>; </div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_instance_extensions.html#a3578abfc0e4e90921df30baa73dd2194">InstanceExtensions</a>();</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;};</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;pvrvk::Device <a class="code" href="namespacepvr_1_1utils.html#a34226196d1cd435e8f19abecc2d3b0eb">createDeviceAndQueues</a>(pvrvk::PhysicalDevice physicalDevice, <span class="keyword">const</span> <a class="code" href="structpvr_1_1utils_1_1_queue_populate_info.html">QueuePopulateInfo</a>* queueCreateInfos, uint32_t numQueueCreateInfos, <a class="code" href="structpvr_1_1utils_1_1_queue_access_info.html">QueueAccessInfo</a>* outAccessInfo,</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keyword">const</span> <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html">DeviceExtensions</a>&amp; deviceExtensions = <a class="code" href="structpvr_1_1utils_1_1_device_extensions.html">DeviceExtensions</a>());</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;pvrvk::Swapchain <a class="code" href="namespacepvr_1_1utils.html#a31577c3e0b7564dde7e0e46c252317d3">createSwapchain</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::Surface&amp; surface, pvr::DisplayAttributes&amp; displayAttributes, pvrvk::Format* preferredColorFormats,</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    uint32_t numColorFormats, pvrvk::ImageUsageFlags swapchainImageUsageFlags = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;pvrvk::Swapchain <a class="code" href="namespacepvr_1_1utils.html#a31577c3e0b7564dde7e0e46c252317d3">createSwapchain</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::Surface&amp; surface, pvr::DisplayAttributes&amp; displayAttributes,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    pvrvk::ImageUsageFlags swapchainImageUsageFlags = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT);</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a21012ef6146e3eb4d55ac09d0be368fd">createSwapchainAndDepthStencilImageAndViews</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::Surface&amp; surface, pvr::DisplayAttributes&amp; displayAttributes, pvrvk::Swapchain&amp; outSwapchain,</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="classpvr_1_1_multi.html">Multi&lt;pvrvk::ImageView&gt;</a>&amp; outDepthStencil, pvrvk::Format* preferredColorFormats, uint32_t numColorFormats, pvrvk::Format* preferredDepthStencilFormats,</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    uint32_t numDepthStencilFormats, <span class="keyword">const</span> pvrvk::ImageUsageFlags&amp; swapchainImageUsageFlags = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="keyword">const</span> pvrvk::ImageUsageFlags&amp; dsImageUsageFlags = pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    vma::Allocator* dsImageAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags dsImageAllocationCreateFlags = vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a21012ef6146e3eb4d55ac09d0be368fd">createSwapchainAndDepthStencilImageAndViews</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> pvrvk::Surface&amp; surface, pvr::DisplayAttributes&amp; displayAttributes, pvrvk::Swapchain&amp; outSwapchain,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="classpvr_1_1_multi.html">Multi&lt;pvrvk::ImageView&gt;</a>&amp; outDepthStencil, <span class="keyword">const</span> pvrvk::ImageUsageFlags&amp; swapchainImageUsageFlags = pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keyword">const</span> pvrvk::ImageUsageFlags&amp; dsImageUsageFlags = pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT | pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT,</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    vma::Allocator* dsImageAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags dsImageAllocationCreateFlags = vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ac56a90fb9fa33ec4cb129a6310f781f4">  639</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ac56a90fb9fa33ec4cb129a6310f781f4">createOnscreenFramebufferAndRenderpass</a>(pvrvk::Swapchain&amp; swapchain, pvrvk::ImageView* depthStencilImages, <a class="code" href="classpvr_1_1_multi.html">Multi&lt;pvrvk::Framebuffer&gt;</a>&amp; outFramebuffers,</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    pvrvk::RenderPass&amp; outRenderPass, pvrvk::ImageLayout initialSwapchainLayout = pvrvk::ImageLayout::e_UNDEFINED,</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    pvrvk::ImageLayout initialDepthStencilLayout = pvrvk::ImageLayout::e_UNDEFINED, pvrvk::AttachmentLoadOp colorLoadOp = pvrvk::AttachmentLoadOp::e_CLEAR,</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    pvrvk::AttachmentStoreOp colorStoreOp = pvrvk::AttachmentStoreOp::e_STORE, pvrvk::AttachmentLoadOp depthStencilLoadOp = pvrvk::AttachmentLoadOp::e_CLEAR,</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    pvrvk::AttachmentStoreOp depthStencilStoreOp = pvrvk::AttachmentStoreOp::e_STORE)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;{</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    pvrvk::FramebufferCreateInfo framebufferInfos[pvrvk::FrameworkCaps::MaxSwapChains];</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    pvrvk::RenderPassCreateInfo rpInfo;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    rpInfo.setAttachmentDescription(0,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        pvrvk::AttachmentDescription::createColorDescription(swapchain-&gt;getImageFormat(), initialSwapchainLayout, pvrvk::ImageLayout::e_PRESENT_SRC_KHR, colorLoadOp, colorStoreOp));</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    pvrvk::SubpassDescription subpass;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    subpass.setColorAttachmentReference(0, pvrvk::AttachmentReference(0, pvrvk::ImageLayout::e_COLOR_ATTACHMENT_OPTIMAL));</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordflow">if</span> (depthStencilImages != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    {</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        rpInfo.setAttachmentDescription(1,</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            pvrvk::AttachmentDescription::createDepthStencilDescription(depthStencilImages[0]-&gt;getImage()-&gt;getFormat(), initialDepthStencilLayout,</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                pvrvk::ImageLayout::e_DEPTH_STENCIL_ATTACHMENT_OPTIMAL, depthStencilLoadOp, depthStencilStoreOp));</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        subpass.setDepthStencilAttachmentReference(pvrvk::AttachmentReference(1, pvrvk::ImageLayout::e_DEPTH_STENCIL_ATTACHMENT_OPTIMAL));</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    pvrvk::SubpassDependency dependencies[2] = { pvrvk::SubpassDependency(pvrvk::SubpassExternal, 0, pvrvk::PipelineStageFlags::e_BOTTOM_OF_PIPE_BIT,</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                                                     pvrvk::PipelineStageFlags::e_COLOR_ATTACHMENT_OUTPUT_BIT, pvrvk::AccessFlags::e_MEMORY_READ_BIT,</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                                                     pvrvk::AccessFlags::e_COLOR_ATTACHMENT_READ_BIT | pvrvk::AccessFlags::e_COLOR_ATTACHMENT_WRITE_BIT,</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                                                     pvrvk::DependencyFlags::e_BY_REGION_BIT),</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        pvrvk::SubpassDependency(0, pvrvk::SubpassExternal, pvrvk::PipelineStageFlags::e_COLOR_ATTACHMENT_OUTPUT_BIT, pvrvk::PipelineStageFlags::e_BOTTOM_OF_PIPE_BIT,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;            pvrvk::AccessFlags::e_COLOR_ATTACHMENT_READ_BIT | pvrvk::AccessFlags::e_COLOR_ATTACHMENT_WRITE_BIT, pvrvk::AccessFlags::e_MEMORY_READ_BIT,</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;            pvrvk::DependencyFlags::e_BY_REGION_BIT) };</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    rpInfo.addSubpassDependencies(dependencies, ARRAY_SIZE(dependencies));</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    rpInfo.setSubpass(0, subpass);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    outRenderPass = swapchain-&gt;getDevice()-&gt;createRenderPass(rpInfo);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    outRenderPass-&gt;setObjectName(<span class="stringliteral">&quot;PVRUtilsVk::OnScreenRenderpass&quot;</span>);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; swapchain-&gt;getSwapchainLength(); ++i)</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        framebufferInfos[i].setAttachment(0, swapchain-&gt;getImageView(i));</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        framebufferInfos[i].setDimensions(swapchain-&gt;getDimension());</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordflow">if</span> (depthStencilImages)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        {</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            framebufferInfos[i].setAttachment(1, depthStencilImages[i]);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        framebufferInfos[i].setRenderPass(outRenderPass);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        outFramebuffers[i] = swapchain-&gt;getDevice()-&gt;createFramebuffer(framebufferInfos[i]);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        outFramebuffers[i]-&gt;setObjectName(std::string(<span class="stringliteral">&quot;PVRUtilsVk::OnScreenFrameBuffer [&quot;</span>) + std::to_string(i) + std::string(<span class="stringliteral">&quot;]&quot;</span>));</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    }</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;}</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a3d0a21627fca937794417b270f9b09f5">  716</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ac56a90fb9fa33ec4cb129a6310f781f4">createOnscreenFramebufferAndRenderpass</a>(pvrvk::Swapchain&amp; swapchain, pvrvk::ImageView* depthStencilImages, <a class="code" href="classpvr_1_1_multi.html">Multi&lt;pvrvk::Framebuffer&gt;</a>&amp; outFramebuffers,</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    pvrvk::ImageLayout initialSwapchainLayout = pvrvk::ImageLayout::e_UNDEFINED, pvrvk::ImageLayout initialDepthStencilLayout = pvrvk::ImageLayout::e_UNDEFINED,</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    pvrvk::AttachmentLoadOp colorLoadOp = pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp colorStoreOp = pvrvk::AttachmentStoreOp::e_STORE,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    pvrvk::AttachmentLoadOp depthStencilLoadOp = pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp depthStencilStoreOp = pvrvk::AttachmentStoreOp::e_STORE)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;{</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    pvrvk::RenderPass dummy;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#ac56a90fb9fa33ec4cb129a6310f781f4">createOnscreenFramebufferAndRenderpass</a>(swapchain, depthStencilImages, outFramebuffers, dummy, initialSwapchainLayout, initialDepthStencilLayout, colorLoadOp, colorStoreOp,</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        depthStencilLoadOp, depthStencilStoreOp);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;}</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a1e9a18d03439c5efe7d88dbb3c16b783">  729</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a1e9a18d03439c5efe7d88dbb3c16b783">populateViewportStateCreateInfo</a>(<span class="keyword">const</span> pvrvk::Framebuffer&amp; framebuffer, pvrvk::PipelineViewportStateCreateInfo&amp; outCreateInfo)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;{</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    outCreateInfo.setViewportAndScissor(0,</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        pvrvk::Viewport(0.f, 0.f, static_cast&lt;float&gt;(framebuffer-&gt;getDimensions().getWidth()), static_cast&lt;float&gt;(framebuffer-&gt;getDimensions().getHeight())),</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        pvrvk::Rect2D(pvrvk::Offset2D(0, 0), pvrvk::Extent2D(framebuffer-&gt;getDimensions().getWidth(), framebuffer-&gt;getDimensions().getHeight())));</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;}</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings.html">  737</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_vertex_bindings.html">VertexBindings</a></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;{</div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings.html#a74f6b69852fdb3031ef27bdffa5e2c99">  740</a></span>&#160;    std::string <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings.html#a74f6b69852fdb3031ef27bdffa5e2c99">semanticName</a>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings.html#a0179ccaad4acf5af997d6f1032b13404">  743</a></span>&#160;    int16_t <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings.html#a0179ccaad4acf5af997d6f1032b13404">location</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;};</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings___name.html">  747</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_vertex_bindings___name.html">VertexBindings_Name</a></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;{</div>
<div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings___name.html#a20e78764d5aab84abdc052ea3e43a965">  750</a></span>&#160;    StringHash <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings___name.html#a20e78764d5aab84abdc052ea3e43a965">semantic</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vertex_bindings___name.html#af8dc9152ecaae65489a154363a672747">  753</a></span>&#160;    StringHash <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings___name.html#af8dc9152ecaae65489a154363a672747">variableName</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;};</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ae0c2fd1a13ff3b5e9086e13ea4608c43">  764</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ae0c2fd1a13ff3b5e9086e13ea4608c43">populateInputAssemblyFromMesh</a>(<span class="keyword">const</span> assets::Mesh&amp; mesh, <span class="keyword">const</span> <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings.html">VertexBindings</a>* bindingMap, uint16_t numBindings,</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    pvrvk::PipelineVertexInputStateCreateInfo&amp; vertexCreateInfo, pvrvk::PipelineInputAssemblerStateCreateInfo&amp; inputAssemblerCreateInfo, uint16_t* numOutBuffers = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    vertexCreateInfo.clear();</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordflow">if</span> (numOutBuffers)</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    {</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        *numOutBuffers = 0;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    int16_t current = 0;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">while</span> (current &lt; numBindings)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keyword">auto</span> attr = mesh.getVertexAttributeByName(bindingMap[current].semanticName.c_str());</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        <span class="keywordflow">if</span> (attr)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;            VertexAttributeLayout layout = attr-&gt;getVertexLayout();</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;            uint32_t stride = mesh.getStride(attr-&gt;getDataIndex());</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="keywordflow">if</span> (numOutBuffers)</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                *numOutBuffers = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(std::max&lt;int32_t&gt;(attr-&gt;getDataIndex() + 1, *numOutBuffers));</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            }</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            <span class="keyword">const</span> pvrvk::VertexInputAttributeDescription attribDesc(</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                bindingMap[current].location, attr-&gt;getDataIndex(), convertToPVRVkVertexInputFormat(layout.dataType, layout.width), layout.offset);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;            <span class="keyword">const</span> pvrvk::VertexInputBindingDescription bindingDesc(attr-&gt;getDataIndex(), stride, pvrvk::VertexInputRate::e_VERTEX);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;            vertexCreateInfo.addInputAttribute(attribDesc).addInputBinding(bindingDesc);</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;        {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;            Log(<span class="stringliteral">&quot;Could not find Attribute with Semantic %s in the supplied mesh. Will render without binding it, erroneously.&quot;</span>, bindingMap[current].semanticName.c_str());</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        ++current;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    inputAssemblerCreateInfo.setPrimitiveTopology(convertToPVRVk(mesh.getMeshInfo().primitiveType));</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;}</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a5b4a65db2498eb2d073a7af233bb1367">  808</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ae0c2fd1a13ff3b5e9086e13ea4608c43">populateInputAssemblyFromMesh</a>(<span class="keyword">const</span> assets::Mesh&amp; mesh, <span class="keyword">const</span> <a class="code" href="structpvr_1_1utils_1_1_vertex_bindings___name.html">VertexBindings_Name</a>* bindingMap, uint16_t numBindings,</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    pvrvk::PipelineVertexInputStateCreateInfo&amp; vertexCreateInfo, pvrvk::PipelineInputAssemblerStateCreateInfo&amp; inputAssemblerCreateInfo, uint16_t* numOutBuffers = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;{</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    vertexCreateInfo.clear();</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (numOutBuffers)</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        *numOutBuffers = 0;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    }</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    int16_t current = 0;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">// In this scenario, we will be using our own indexes instead of user provided ones, correlating them by names.</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    vertexCreateInfo.clear();</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">while</span> (current &lt; numBindings)</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    {</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keyword">auto</span> attr = mesh.getVertexAttributeByName(bindingMap[current].semantic);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <span class="keywordflow">if</span> (attr)</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            VertexAttributeLayout layout = attr-&gt;getVertexLayout();</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;            uint32_t stride = mesh.getStride(attr-&gt;getDataIndex());</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">if</span> (numOutBuffers)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;            {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                *numOutBuffers = <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(std::max&lt;int32_t&gt;(attr-&gt;getDataIndex() + 1, *numOutBuffers));</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            <span class="keyword">const</span> pvrvk::VertexInputAttributeDescription attribDesc(current, attr-&gt;getDataIndex(), convertToPVRVkVertexInputFormat(layout.dataType, layout.width), layout.offset);</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;            <span class="keyword">const</span> pvrvk::VertexInputBindingDescription bindingDesc(attr-&gt;getDataIndex(), stride, pvrvk::VertexInputRate::e_VERTEX);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            vertexCreateInfo.addInputAttribute(attribDesc).addInputBinding(bindingDesc);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            inputAssemblerCreateInfo.setPrimitiveTopology(convertToPVRVk(mesh.getMeshInfo().primitiveType));</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        }</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            Log(<span class="stringliteral">&quot;Could not find Attribute with Semantic %s in the supplied mesh. Will render without binding it, erroneously.&quot;</span>, bindingMap[current].semantic.c_str());</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        ++current;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;    }</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;}</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ae6934715b675cba2e0a7454813b431a3">  861</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ae6934715b675cba2e0a7454813b431a3">createSingleBuffersFromMesh</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> assets::Mesh&amp; mesh, pvrvk::Buffer&amp; outVbo, pvrvk::Buffer&amp; outIbo, pvrvk::CommandBuffer&amp; uploadCmdBuffer,</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;{</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    requiresCommandBufferSubmission = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="keywordtype">size_t</span> total = 0;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; mesh.getNumDataElements(); ++i)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    {</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        total += mesh.getDataSize(i);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    }</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    pvrvk::MemoryPropertyFlags optimalMemoryFlags = requiredMemoryFlags;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    outVbo = <a class="code" href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">createBuffer</a>(device, static_cast&lt;uint32_t&gt;(mesh.getDataSize(0)), pvrvk::BufferUsageFlags::e_VERTEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT,</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        requiredMemoryFlags, optimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="keywordtype">bool</span> isBufferHostVisible = (outVbo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (!isBufferHostVisible)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    {</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        requiresCommandBufferSubmission = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    }</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="keywordtype">size_t</span> current = 0;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; mesh.getNumDataElements(); ++i)</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    {</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">if</span> (isBufferHostVisible)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        {</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(outVbo, static_cast&lt;const void*&gt;(mesh.getData(i)), static_cast&lt;uint32_t&gt;(current), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getDataSize(i)), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        {</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">updateBufferUsingStagingBuffer</a>(device, outVbo, pvrvk::CommandBufferBase(uploadCmdBuffer), static_cast&lt;const void*&gt;(mesh.getData(i)), static_cast&lt;uint32_t&gt;(current),</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.getDataSize(i)), bufferAllocator);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        }</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        current += mesh.getDataSize(i);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    }</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="keywordflow">if</span> (mesh.getNumFaces())</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        pvrvk::MemoryPropertyFlags optimalMemoryFlags = requiredMemoryFlags;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        outIbo = <a class="code" href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">createBuffer</a>(device, static_cast&lt;uint32_t&gt;(mesh.getFaces().getDataSize()), pvrvk::BufferUsageFlags::e_INDEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT,</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;            requiredMemoryFlags, optimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        <span class="keywordtype">bool</span> isBufferHostVisible = (outIbo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">if</span> (!isBufferHostVisible)</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;        {</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            requiresCommandBufferSubmission = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;        }</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;        <span class="keywordflow">if</span> (isBufferHostVisible)</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;        {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(outIbo, static_cast&lt;const void*&gt;(mesh.getFaces().getData()), 0, static_cast&lt;uint32_t&gt;(mesh.getFaces().getDataSize()), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;        {</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">updateBufferUsingStagingBuffer</a>(device, outIbo, pvrvk::CommandBufferBase(uploadCmdBuffer), static_cast&lt;const void*&gt;(mesh.getFaces().getData()), 0,</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;                static_cast&lt;uint32_t&gt;(mesh.getFaces().getDataSize()), bufferAllocator);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    }</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        outIbo.reset();</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;}</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00945"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a95e0a5be7c444548e52a74c2f40faaa5">  945</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a95e0a5be7c444548e52a74c2f40faaa5">createMultipleBuffersFromMesh</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> assets::Mesh&amp; mesh, std::vector&lt;pvrvk::Buffer&gt;&amp; outVbos, pvrvk::Buffer&amp; outIbo,</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;    pvrvk::CommandBuffer&amp; uploadCmdBuffer, <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, vma::Allocator* bufferAllocator,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;{</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    requiresCommandBufferSubmission = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; mesh.getNumDataElements(); ++i)</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    {</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        pvrvk::MemoryPropertyFlags optimalMemoryFlags = requiredMemoryFlags;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        outVbos.push_back(<a class="code" href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">createBuffer</a>(device, static_cast&lt;uint32_t&gt;(mesh.getDataSize(i)), pvrvk::BufferUsageFlags::e_VERTEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT,</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;            requiredMemoryFlags, optimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags));</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordtype">bool</span> isBufferHostVisible = (outVbos.back()-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">if</span> (!isBufferHostVisible)</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        {</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;            requiresCommandBufferSubmission = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        }</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        <span class="keywordflow">if</span> (isBufferHostVisible)</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(outVbos.back(), <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getData(i)), 0, static_cast&lt;uint32_t&gt;(mesh.getDataSize(i)), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        }</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        {</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">updateBufferUsingStagingBuffer</a>(device, outVbos.back(), pvrvk::CommandBufferBase(uploadCmdBuffer), <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(mesh.getData(i)), 0,</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                static_cast&lt;uint32_t&gt;(mesh.getDataSize(i)), bufferAllocator);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        }</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    }</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">if</span> (mesh.getNumFaces())</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        pvrvk::MemoryPropertyFlags optimalMemoryFlags = requiredMemoryFlags;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        outIbo = <a class="code" href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">createBuffer</a>(device, static_cast&lt;uint32_t&gt;(mesh.getFaces().getDataSize()), pvrvk::BufferUsageFlags::e_INDEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT,</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;            requiredMemoryFlags, optimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keywordtype">bool</span> isBufferHostVisible = (outIbo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">if</span> (!isBufferHostVisible)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            requiresCommandBufferSubmission = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">if</span> (isBufferHostVisible)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(outIbo, static_cast&lt;const void*&gt;(mesh.getFaces().getData()), 0, static_cast&lt;uint32_t&gt;(mesh.getFaces().getDataSize()), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;        }</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <a class="code" href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">updateBufferUsingStagingBuffer</a>(device, outIbo, pvrvk::CommandBufferBase(uploadCmdBuffer), static_cast&lt;const void*&gt;(mesh.getFaces().getData()), 0,</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                static_cast&lt;uint32_t&gt;(mesh.getFaces().getDataSize()), bufferAllocator);</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    }</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;}</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> MeshIterator_, <span class="keyword">typename</span> VboInsertIterator_, <span class="keyword">typename</span> IboInsertIterator_&gt;</div>
<div class="line"><a name="l01025"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a06f94be9a865755c8bafaac56f286b01"> 1025</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a06f94be9a865755c8bafaac56f286b01">createSingleBuffersFromMeshes</a>(pvrvk::Device&amp; device, MeshIterator_ meshIter, MeshIterator_ meshIterEnd, VboInsertIterator_ outVbos, IboInsertIterator_ outIbos,</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    pvrvk::CommandBuffer&amp; uploadCmdBuffer, <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;{</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    requiresCommandBufferSubmission = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordflow">while</span> (meshIter != meshIterEnd)</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    {</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        <span class="keywordtype">size_t</span> total = 0;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keywordflow">for</span> (uint32_t ii = 0; ii &lt; meshIter-&gt;getNumDataElements(); ++ii)</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            total += meshIter-&gt;getDataSize(ii);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        pvrvk::Buffer vbo;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        pvrvk::MemoryPropertyFlags optimalMemoryFlags = requiredMemoryFlags;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        vbo = <a class="code" href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">createBuffer</a>(device, static_cast&lt;uint32_t&gt;(total), pvrvk::BufferUsageFlags::e_VERTEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT, requiredMemoryFlags,</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            optimalMemoryFlags, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;        <span class="keywordtype">bool</span> isBufferHostVisible = (vbo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">if</span> (!isBufferHostVisible)</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        {</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;            requiresCommandBufferSubmission = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;        <span class="keywordtype">size_t</span> current = 0;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> ii = 0; ii &lt; meshIter-&gt;getNumDataElements(); ++ii)</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        {</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <span class="keywordflow">if</span> (isBufferHostVisible)</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            {</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(vbo, (<span class="keyword">const</span> <span class="keywordtype">void</span>*)meshIter-&gt;getData(static_cast&lt;uint32_t&gt;(ii)), <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(current),</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                    static_cast&lt;uint32_t&gt;(meshIter-&gt;getDataSize(static_cast&lt;uint32_t&gt;(ii))), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;            }</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;            {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                <a class="code" href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">updateBufferUsingStagingBuffer</a>(device, vbo, pvrvk::CommandBufferBase(uploadCmdBuffer), (<span class="keyword">const</span> <span class="keywordtype">void</span>*)meshIter-&gt;getData(static_cast&lt;uint32_t&gt;(ii)),</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                    <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(current), static_cast&lt;uint32_t&gt;(meshIter-&gt;getDataSize(static_cast&lt;uint32_t&gt;(ii))), bufferAllocator);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;            }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            current += meshIter-&gt;getDataSize(static_cast&lt;uint32_t&gt;(ii));</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        }</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        outVbos = vbo;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">if</span> (meshIter-&gt;getNumFaces())</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        {</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;            pvrvk::Buffer ibo;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;            pvrvk::MemoryPropertyFlags requiredMemoryFlags = pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;            pvrvk::MemoryPropertyFlags optimalMemoryFlags = requiredMemoryFlags;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;            ibo = <a class="code" href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">createBuffer</a>(device, static_cast&lt;uint32_t&gt;(meshIter-&gt;getFaces().getDataSize()),</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                pvrvk::BufferUsageFlags::e_INDEX_BUFFER_BIT | pvrvk::BufferUsageFlags::e_TRANSFER_DST_BIT, requiredMemoryFlags, optimalMemoryFlags, bufferAllocator,</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordtype">bool</span> isBufferHostVisible = (ibo-&gt;getDeviceMemory()-&gt;getMemoryFlags() &amp; pvrvk::MemoryPropertyFlags::e_HOST_VISIBLE_BIT) != 0;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            <span class="keywordflow">if</span> (!isBufferHostVisible)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;            {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                requiresCommandBufferSubmission = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;            }</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;            <span class="keywordflow">if</span> (isBufferHostVisible)</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;            {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                <a class="code" href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">updateHostVisibleBuffer</a>(ibo, static_cast&lt;const void*&gt;(meshIter-&gt;getFaces().getData()), 0, meshIter-&gt;getFaces().getDataSize(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;            }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;            {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                <a class="code" href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">updateBufferUsingStagingBuffer</a>(device, ibo, pvrvk::CommandBufferBase(uploadCmdBuffer), static_cast&lt;const void*&gt;(meshIter-&gt;getFaces().getData()), 0,</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                    meshIter-&gt;getFaces().getDataSize(), bufferAllocator);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;            }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            outIbos = ibo;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        {</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            outIbos = pvrvk::Buffer();</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        }</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        ++outVbos;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        ++outIbos;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        ++meshIter;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    }</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> MeshIterator_, <span class="keyword">typename</span> VboContainer_, <span class="keyword">typename</span> IboContainer_&gt;</div>
<div class="line"><a name="l01132"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a4493b0c69e45e8b7af4d2fa32f763f23"> 1132</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a06f94be9a865755c8bafaac56f286b01">createSingleBuffersFromMeshes</a>(pvrvk::Device&amp; device, MeshIterator_ meshIter, MeshIterator_ meshIterEnd, VboContainer_&amp; outVbos,</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="keyword">typename</span> VboContainer_::iterator vbos_where, IboContainer_&amp; outIbos, <span class="keyword">typename</span> IboContainer_::iterator ibos_where, pvrvk::CommandBuffer&amp; uploadCmdBuffer,</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;{</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a06f94be9a865755c8bafaac56f286b01">createSingleBuffersFromMeshes</a>(device, meshIter, meshIterEnd, std::inserter(outVbos, vbos_where), std::inserter(outIbos, ibos_where), uploadCmdBuffer,</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        requiresCommandBufferSubmission, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;}</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> VboInsertIterator_, <span class="keyword">typename</span> IboInsertIterator_&gt;</div>
<div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a8b77d306417876f431ed11fffde3a84f"> 1160</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a8b77d306417876f431ed11fffde3a84f">createSingleBuffersFromModel</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> assets::Model&amp; model, VboInsertIterator_ vbos, IboInsertIterator_ ibos, pvrvk::CommandBuffer&amp; uploadCmdBuffer,</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;{</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a06f94be9a865755c8bafaac56f286b01">createSingleBuffersFromMeshes</a>(</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        device, model.beginMeshes(), model.endMeshes(), vbos, ibos, uploadCmdBuffer, requiresCommandBufferSubmission, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;}</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> VboContainer_, <span class="keyword">typename</span> IboContainer_&gt;</div>
<div class="line"><a name="l01185"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#ac66fa9a9c7f8232c3f5aa3f41106cfea"> 1185</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ac66fa9a9c7f8232c3f5aa3f41106cfea">appendSingleBuffersFromModel</a>(pvrvk::Device&amp; device, <span class="keyword">const</span> assets::Model&amp; model, VboContainer_&amp; vbos, IboContainer_&amp; ibos, pvrvk::CommandBuffer&amp; uploadCmdBuffer,</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;    <span class="keywordtype">bool</span>&amp; requiresCommandBufferSubmission, vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>, vma::AllocationCreateFlags vmaAllocationCreateFlags = vma::AllocationCreateFlags::e_MAPPED_BIT)</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;{</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <a class="code" href="namespacepvr_1_1utils.html#a06f94be9a865755c8bafaac56f286b01">createSingleBuffersFromMeshes</a>(device, model.beginMeshes(), model.endMeshes(), std::inserter(vbos, vbos.end()), std::inserter(ibos, ibos.end()), uploadCmdBuffer,</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        requiresCommandBufferSubmission, bufferAllocator, vmaAllocationCreateFlags);</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#ad0c9ce4267ec635305fc87aba0b9d9c2">create3dPlaneMesh</a>(uint32_t width, uint32_t depth, <span class="keywordtype">bool</span> generateTexCoords, <span class="keywordtype">bool</span> generateNormalCoords, assets::Mesh&amp; outMesh);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#abca543a0c306d801f96b0cc6af848371">saveImage</a>(<a class="code" href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvrvk::Image</a> image, <span class="keyword">const</span> pvrvk::ImageLayout imageInitialLayout, <span class="keyword">const</span> pvrvk::ImageLayout imageFinalLayout, pvrvk::CommandPool&amp; pool, pvrvk::Queue&amp; queue,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="keyword">const</span> std::string&amp; filename, vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>, <span class="keyword">const</span> uint32_t screenshotScale = 1);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespacepvr_1_1utils.html#a22821a94e895873a43ffa097381a1415">takeScreenshot</a>(pvrvk::Swapchain&amp; swapChain, <span class="keyword">const</span> uint32_t swapIndex, pvrvk::CommandPool&amp; pool, pvrvk::Queue&amp; queue, <span class="keyword">const</span> std::string&amp; screenshotFileName,</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    vma::Allocator* bufferAllocator = <span class="keyword">nullptr</span>, vma::Allocator* imageAllocator = <span class="keyword">nullptr</span>, <span class="keyword">const</span> uint32_t screenshotScale = 1);</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a7151c7b74ff657fc17ff09c0ab114a07"> 1232</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacepvr_1_1utils.html#a7151c7b74ff657fc17ff09c0ab114a07">isFormatDepthStencil</a>(pvrvk::Format format)</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;{</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;    <span class="keywordflow">return</span> format &gt;= pvrvk::Format::e_D16_UNORM &amp;&amp; format &lt;= pvrvk::Format::e_D32_SFLOAT_S8_UINT;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;}</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;</div>
<div class="line"><a name="l01244"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a98e4ac9990af6eaf6b9bf0928f2bd07d"> 1244</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a98e4ac9990af6eaf6b9bf0928f2bd07d">populateClearValues</a>(</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="keyword">const</span> pvrvk::RenderPass&amp; renderpass, <span class="keyword">const</span> pvrvk::ClearValue&amp; clearColor, <span class="keyword">const</span> pvrvk::ClearValue&amp; clearDepthStencilValue, pvrvk::ClearValue* outClearValues)</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;{</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; renderpass-&gt;getCreateInfo().getNumAttachmentDescription(); ++i)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="keyword">const</span> pvrvk::Format&amp; format = renderpass-&gt;getCreateInfo().getAttachmentDescription(i).getFormat();</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespacepvr_1_1utils.html#a7151c7b74ff657fc17ff09c0ab114a07">pvr::utils::isFormatDepthStencil</a>(format))</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            outClearValues[i] = clearDepthStencilValue;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;        {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;            outClearValues[i] = clearColor;</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        }</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;}</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#adca914d6eedd686a81a4f0e4cbbc3390"> 1264</a></span>&#160;<span class="keyword">inline</span> LogLevel <a class="code" href="namespacepvr_1_1utils.html#adca914d6eedd686a81a4f0e4cbbc3390">mapValidationTypeToLogLevel</a>(pvrvk::DebugReportFlagsEXT flags)</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;{</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_INFORMATION_BIT_EXT) != 0)</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    {</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordflow">return</span> LogLevel::Information;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    }</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_WARNING_BIT_EXT) != 0)</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;        <span class="keywordflow">return</span> LogLevel::Warning;</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    }</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_PERFORMANCE_WARNING_BIT_EXT) != 0)</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    {</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        <span class="keywordflow">return</span> LogLevel::Performance;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    }</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_ERROR_BIT_EXT) != 0)</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    {</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="keywordflow">return</span> LogLevel::Error;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    }</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; pvrvk::DebugReportFlagsEXT::e_DEBUG_BIT_EXT) != 0)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    {</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;        <span class="keywordflow">return</span> LogLevel::Debug;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    }</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keywordflow">return</span> LogLevel::Information;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;}</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;VKAPI_ATTR VkBool32 VKAPI_CALL <a class="code" href="namespacepvr_1_1utils.html#a54f2bb511b50d2c11ddc7377a60714ad">throwOnErrorDebugReportCallback</a>(VkDebugReportFlagsEXT flags, VkDebugReportObjectTypeEXT objectType, uint64_t <span class="keywordtype">object</span>, <span class="keywordtype">size_t</span> location,</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    int32_t messageCode, <span class="keyword">const</span> <span class="keywordtype">char</span>* pLayerPrefix, <span class="keyword">const</span> <span class="keywordtype">char</span>* pMessage, <span class="keywordtype">void</span>* pUserData);</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;VKAPI_ATTR VkBool32 VKAPI_CALL <a class="code" href="namespacepvr_1_1utils.html#a1cbbbd1665449ea70d772de63595c806">logMessageDebugReportCallback</a>(VkDebugReportFlagsEXT flags, VkDebugReportObjectTypeEXT objectType, uint64_t <span class="keywordtype">object</span>, <span class="keywordtype">size_t</span> location,</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    int32_t messageCode, <span class="keyword">const</span> <span class="keywordtype">char</span>* pLayerPrefix, <span class="keyword">const</span> <span class="keywordtype">char</span>* pMessage, <span class="keywordtype">void</span>* pUserData);</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;pvrvk::DebugReportCallback <a class="code" href="namespacepvr_1_1utils.html#a04b412166c06b4293b7eaa1bf6857f50">createDebugReportCallback</a>(pvrvk::Instance&amp; instance,</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    pvrvk::DebugReportFlagsEXT flags = pvrvk::DebugReportFlagsEXT::e_ERROR_BIT_EXT | pvrvk::DebugReportFlagsEXT::e_PERFORMANCE_WARNING_BIT_EXT |</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        pvrvk::DebugReportFlagsEXT::e_WARNING_BIT_EXT,</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    PFN_vkDebugReportCallbackEXT callback = <a class="code" href="namespacepvr_1_1utils.html#a1cbbbd1665449ea70d772de63595c806">pvr::utils::logMessageDebugReportCallback</a>, <span class="keywordtype">void</span>* userData = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div>
<div class="line"><a name="l01325"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html"> 1325</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html">VulkanVersion</a></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;{</div>
<div class="line"><a name="l01328"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd"> 1328</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a>;</div>
<div class="line"><a name="l01330"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2"> 1330</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a>;</div>
<div class="line"><a name="l01332"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d"> 1332</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div>
<div class="line"><a name="l01338"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#a93aa7e756fb29313e3556bb4f5c10f3a"> 1338</a></span>&#160;    <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a93aa7e756fb29313e3556bb4f5c10f3a">VulkanVersion</a>(uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a> = 1, uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a> = 1, uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a> = 0) : <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a>(<a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a>), <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a>(<a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a>), <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a>(<a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a>) {}</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div>
<div class="line"><a name="l01342"></a><span class="lineno"><a class="line" href="structpvr_1_1utils_1_1_vulkan_version.html#a4a7dfa46502a507457263578dd48e572"> 1342</a></span>&#160;    uint32_t <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a4a7dfa46502a507457263578dd48e572">toVulkanVersion</a>()</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    {</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        <span class="keywordflow">return</span> VK_MAKE_VERSION(<a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">majorV</a>, <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">minorV</a>, <a class="code" href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">patchV</a>);</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    }</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;};</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;pvrvk::Instance <a class="code" href="namespacepvr_1_1utils.html#a680ef5943947e565f7d14aa9ff0393d9">createInstance</a>(<span class="keyword">const</span> std::string&amp; applicationName, VulkanVersion apiVersion = VulkanVersion(), <span class="keyword">const</span> InstanceExtensions&amp; instanceExtensions = InstanceExtensions(),</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;    <span class="keyword">const</span> InstanceLayers&amp; instanceLayers = InstanceLayers());</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;pvrvk::Surface <a class="code" href="namespacepvr_1_1utils.html#aa583027696be258fc78dd3156ffaece5">createSurface</a>(pvrvk::Instance&amp; instance, pvrvk::PhysicalDevice&amp; physicalDevice, <span class="keywordtype">void</span>* window, <span class="keywordtype">void</span>* display);</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="keywordtype">void</span> <a class="code" href="namespacepvr_1_1utils.html#a6bbf98fde377992e9e7e0d23f38a9dcc">getMemoryTypeIndex</a>(<span class="keyword">const</span> pvrvk::PhysicalDevice&amp; physicalDevice, <span class="keyword">const</span> uint32_t allowedMemoryTypeBits, <span class="keyword">const</span> pvrvk::MemoryPropertyFlags requiredMemoryProperties,</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keyword">const</span> pvrvk::MemoryPropertyFlags optimalMemoryProperties, uint32_t&amp; outMemoryTypeIndex, pvrvk::MemoryPropertyFlags&amp; outMemoryPropertyFlags);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01385"></a><span class="lineno"><a class="line" href="namespacepvr_1_1utils.html#a59222cc49624a76fab4d4f65e3337ac3"> 1385</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespacepvr_1_1utils.html#a59222cc49624a76fab4d4f65e3337ac3">isImageUsageSupportedBySurface</a>(<span class="keyword">const</span> pvrvk::SurfaceCapabilitiesKHR&amp; surfaceCapabilities, pvrvk::ImageUsageFlags imageUsage)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;{</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <span class="keywordflow">return</span> (static_cast&lt;uint32_t&gt;(surfaceCapabilities.getSupportedUsageFlags() &amp; imageUsage) != 0);</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;}</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;} <span class="comment">// namespace utils</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;} <span class="comment">// namespace pvr</span></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_ac9fe2c31e80c1a067508d5d288f12801"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#ac9fe2c31e80c1a067508d5d288f12801">pvr::utils::ImageUpdateInfo::depth</a></div><div class="ttdeci">uint32_t depth</div><div class="ttdoc">Valid for texture updates only. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:323</div></div>
<div class="ttc" id="_multi_object_8h_html"><div class="ttname"><a href="_multi_object_8h.html">MultiObject.h</a></div><div class="ttdoc">This file contains the Multi&lt;T&gt; class template, which is the usual container for objects that must be...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a0bd6e8b8a62c678202323873aeda6115"><div class="ttname"><a href="namespacepvr_1_1utils.html#a0bd6e8b8a62c678202323873aeda6115">pvr::utils::uploadImageAndView</a></div><div class="ttdeci">pvrvk::ImageView uploadImageAndView(pvrvk::Device &amp;device, const Texture &amp;texture, bool allowDecompress, pvrvk::SecondaryCommandBuffer &amp;commandBuffer, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, vma::Allocator *stagingBufferAllocator=nullptr, vma::Allocator *imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Uploads an image to gpu. The upload command and staging buffers are recorded in the commandbuffer...</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vertex_bindings___name_html_af8dc9152ecaae65489a154363a672747"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings___name.html#af8dc9152ecaae65489a154363a672747">pvr::utils::VertexBindings_Name::variableName</a></div><div class="ttdeci">StringHash variableName</div><div class="ttdoc">Shader attribute name.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:753</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a6cde0ffe41f15363a6589bf287aa30d3"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a6cde0ffe41f15363a6589bf287aa30d3">pvr::utils::ImageUpdateInfo::arrayIndex</a></div><div class="ttdeci">uint32_t arrayIndex</div><div class="ttdoc">Valid for 1D,2D and Cube texture updates. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:308</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a22821a94e895873a43ffa097381a1415"><div class="ttname"><a href="namespacepvr_1_1utils.html#a22821a94e895873a43ffa097381a1415">pvr::utils::takeScreenshot</a></div><div class="ttdeci">bool takeScreenshot(pvrvk::Swapchain &amp;swapChain, const uint32_t swapIndex, pvrvk::CommandPool &amp;pool, pvrvk::Queue &amp;queue, const std::string &amp;screenshotFileName, vma::Allocator *bufferAllocator=nullptr, vma::Allocator *imageAllocator=nullptr, const uint32_t screenshotScale=1)</div><div class="ttdoc">Saves a particular swapchain image corresponding to the swapchain image at index swapIndex for the sw...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a54f2bb511b50d2c11ddc7377a60714ad"><div class="ttname"><a href="namespacepvr_1_1utils.html#a54f2bb511b50d2c11ddc7377a60714ad">pvr::utils::throwOnErrorDebugReportCallback</a></div><div class="ttdeci">VKAPI_ATTR VkBool32 VKAPI_CALL throwOnErrorDebugReportCallback(VkDebugReportFlagsEXT flags, VkDebugReportObjectTypeEXT objectType, uint64_t object, size_t location, int32_t messageCode, const char *pLayerPrefix, const char *pMessage, void *pUserData)</div><div class="ttdoc">An application DebugReportCallback function providing logging for various events. The callback will a...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a2ea80135aa97006c881f5d3fface1563"><div class="ttname"><a href="namespacepvr_1_1utils.html#a2ea80135aa97006c881f5d3fface1563">pvr::utils::createImage</a></div><div class="ttdeci">pvrvk::Image createImage(pvrvk::Device device, pvrvk::ImageType imageType, pvrvk::Format format, const pvrvk::Extent3D &amp;dimension, pvrvk::ImageUsageFlags usage, pvrvk::ImageCreateFlags flags=pvrvk::ImageCreateFlags(0), const pvrvk::ImageLayersSize &amp;layerSize=pvrvk::ImageLayersSize(), pvrvk::SampleCountFlags samples=pvrvk::SampleCountFlags::e_1_BIT, pvrvk::MemoryPropertyFlags requiredMemoryFlags=pvrvk::MemoryPropertyFlags::e_DEVICE_LOCAL_BIT, pvrvk::MemoryPropertyFlags optimalMemoryFlags=pvrvk::MemoryPropertyFlags::e_NONE, vma::Allocator *imageAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE, pvrvk::SharingMode sharingMode=pvrvk::SharingMode::e_EXCLUSIVE, pvrvk::ImageTiling tiling=pvrvk::ImageTiling::e_OPTIMAL, pvrvk::ImageLayout initialLayout=pvrvk::ImageLayout::e_UNDEFINED, const uint32_t *queueFamilyIndices=nullptr, uint32_t numQueueFamilyIndices=0)</div><div class="ttdoc">create a new Image(sparse or with memory backing, depending on flags . The user should not call bindM...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a71cc4019e6c6315a8a714f4103bfe503"><div class="ttname"><a href="namespacepvr_1_1utils.html#a71cc4019e6c6315a8a714f4103bfe503">pvr::utils::updateImage</a></div><div class="ttdeci">void updateImage(pvrvk::Device &amp;device, pvrvk::CommandBufferBase transferCommandBuffer, ImageUpdateInfo *updateInfos, uint32_t numUpdateInfos, pvrvk::Format format, pvrvk::ImageLayout layout, bool isCubeMap, pvrvk::Image &amp;image, vma::Allocator *bufferAllocator=nullptr)</div><div class="ttdoc">Utility function to update an image&#39;s data. This function will record the update of the image in the ...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_ac56a90fb9fa33ec4cb129a6310f781f4"><div class="ttname"><a href="namespacepvr_1_1utils.html#ac56a90fb9fa33ec4cb129a6310f781f4">pvr::utils::createOnscreenFramebufferAndRenderpass</a></div><div class="ttdeci">void createOnscreenFramebufferAndRenderpass(pvrvk::Swapchain &amp;swapchain, pvrvk::ImageView *depthStencilImages, Multi&lt; pvrvk::Framebuffer &gt; &amp;outFramebuffers, pvrvk::RenderPass &amp;outRenderPass, pvrvk::ImageLayout initialSwapchainLayout=pvrvk::ImageLayout::e_UNDEFINED, pvrvk::ImageLayout initialDepthStencilLayout=pvrvk::ImageLayout::e_UNDEFINED, pvrvk::AttachmentLoadOp colorLoadOp=pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp colorStoreOp=pvrvk::AttachmentStoreOp::e_STORE, pvrvk::AttachmentLoadOp depthStencilLoadOp=pvrvk::AttachmentLoadOp::e_CLEAR, pvrvk::AttachmentStoreOp depthStencilStoreOp=pvrvk::AttachmentStoreOp::e_STORE)</div><div class="ttdoc">Create a pvrvk::Framebuffer and Renderpass to use for &#39;default&#39; rendering to the &#39;onscreen&#39; color ima...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:639</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a8b77d306417876f431ed11fffde3a84f"><div class="ttname"><a href="namespacepvr_1_1utils.html#a8b77d306417876f431ed11fffde3a84f">pvr::utils::createSingleBuffersFromModel</a></div><div class="ttdeci">void createSingleBuffersFromModel(pvrvk::Device &amp;device, const assets::Model &amp;model, VboInsertIterator_ vbos, IboInsertIterator_ ibos, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator *bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a set of VBOs and a set of IBOs from the vertex data of the meshes of a model and inse...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1160</div></div>
<div class="ttc" id="_convert_to_p_v_r_vk_types_8h_html"><div class="ttname"><a href="_convert_to_p_v_r_vk_types_8h.html">ConvertToPVRVkTypes.h</a></div><div class="ttdoc">Contains conversions of pvr Enumerations to Vulkan types. </div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a35ffe0060a18ba6f85103107860e465a"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a35ffe0060a18ba6f85103107860e465a">pvr::utils::ImageUpdateInfo::dataSize</a></div><div class="ttdeci">uint32_t dataSize</div><div class="ttdoc">Valid for all. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:311</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a63830a23335c0e841e02b4f02f0363f7"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a63830a23335c0e841e02b4f02f0363f7">pvr::utils::ImageUpdateInfo::imageHeight</a></div><div class="ttdeci">uint32_t imageHeight</div><div class="ttdoc">Valid for 2D, 3D and Cube texture updates. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:315</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_populate_info_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html">pvr::utils::QueuePopulateInfo</a></div><div class="ttdoc">A structure encapsulating the set of queue flags required for a particular queue retrieved via the he...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:436</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a6bbf98fde377992e9e7e0d23f38a9dcc"><div class="ttname"><a href="namespacepvr_1_1utils.html#a6bbf98fde377992e9e7e0d23f38a9dcc">pvr::utils::getMemoryTypeIndex</a></div><div class="ttdeci">void getMemoryTypeIndex(const pvrvk::PhysicalDevice &amp;physicalDevice, const uint32_t allowedMemoryTypeBits, const pvrvk::MemoryPropertyFlags requiredMemoryProperties, const pvrvk::MemoryPropertyFlags optimalMemoryProperties, uint32_t &amp;outMemoryTypeIndex, pvrvk::MemoryPropertyFlags &amp;outMemoryPropertyFlags)</div><div class="ttdoc">Utility function for retrieving a memory type index for a suitable memory type which supports the mem...</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vulkan_version_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html">pvr::utils::VulkanVersion</a></div><div class="ttdoc">The VulkanVersion structure provides an easy mechanism for constructing the Vulkan version for use wh...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1325</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_ae0c2fd1a13ff3b5e9086e13ea4608c43"><div class="ttname"><a href="namespacepvr_1_1utils.html#ae0c2fd1a13ff3b5e9086e13ea4608c43">pvr::utils::populateInputAssemblyFromMesh</a></div><div class="ttdeci">void populateInputAssemblyFromMesh(const assets::Mesh &amp;mesh, const VertexBindings *bindingMap, uint16_t numBindings, pvrvk::PipelineVertexInputStateCreateInfo &amp;vertexCreateInfo, pvrvk::PipelineInputAssemblerStateCreateInfo &amp;inputAssemblerCreateInfo, uint16_t *numOutBuffers=nullptr)</div><div class="ttdoc">Fills out input assembly and vertex input state structures using a mesh and a list of corresponding V...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:764</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vertex_bindings_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings.html">pvr::utils::VertexBindings</a></div><div class="ttdoc">Represents a shader Explicit binding, tying a Semantic name to an Attribute Index.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:737</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_populate_info_html_a5eeb3d84dac92d6718f2b6d7f03d653d"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#a5eeb3d84dac92d6718f2b6d7f03d653d">pvr::utils::QueuePopulateInfo::QueuePopulateInfo</a></div><div class="ttdeci">QueuePopulateInfo(pvrvk::QueueFlags queueFlags, float priority=1.0f)</div><div class="ttdoc">Constructor for a QueuePopulateInfo requiring that a set of queue flags is provided.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:450</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vertex_bindings_html_a74f6b69852fdb3031ef27bdffa5e2c99"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings.html#a74f6b69852fdb3031ef27bdffa5e2c99">pvr::utils::VertexBindings::semanticName</a></div><div class="ttdeci">std::string semanticName</div><div class="ttdoc">Effect semantic.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:740</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a8d9cfeb4d88791e650d994402d00511c"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a8d9cfeb4d88791e650d994402d00511c">pvr::utils::ImageUpdateInfo::dataWidth</a></div><div class="ttdeci">uint32_t dataWidth</div><div class="ttdoc">Valid for all. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:307</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_populate_info_html_a8d5ad873b0ae0c6c8c82511c5e7a72aa"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#a8d5ad873b0ae0c6c8c82511c5e7a72aa">pvr::utils::QueuePopulateInfo::QueuePopulateInfo</a></div><div class="ttdeci">QueuePopulateInfo(pvrvk::QueueFlags queueFlags, pvrvk::Surface &amp;surface, float priority=1.0f)</div><div class="ttdoc">Constructor for a QueuePopulateInfo requiring that a set of queue flags and a surface are provided...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:456</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_device_extensions_html_a958e2eeac8ddfd9ea8dabaaa8d2f35cf"><div class="ttname"><a href="structpvr_1_1utils_1_1_device_extensions.html#a958e2eeac8ddfd9ea8dabaaa8d2f35cf">pvr::utils::DeviceExtensions::extensionStrings</a></div><div class="ttdeci">std::vector&lt; std::string &gt; extensionStrings</div><div class="ttdef"><b>Definition:</b> HelperVk.h:473</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a66c0abcd177d448a4b0a140321fa1427"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a66c0abcd177d448a4b0a140321fa1427">pvr::utils::ImageUpdateInfo::data</a></div><div class="ttdeci">const void * data</div><div class="ttdoc">Valid for all. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:310</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a59222cc49624a76fab4d4f65e3337ac3"><div class="ttname"><a href="namespacepvr_1_1utils.html#a59222cc49624a76fab4d4f65e3337ac3">pvr::utils::isImageUsageSupportedBySurface</a></div><div class="ttdeci">bool isImageUsageSupportedBySurface(const pvrvk::SurfaceCapabilitiesKHR &amp;surfaceCapabilities, pvrvk::ImageUsageFlags imageUsage)</div><div class="ttdoc">Utility function used to determine whether the SurfaceCapabilitiesKHR supportedUsageFlags member cont...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1385</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_ad7010e7802edc5e1cc101034ac386d37"><div class="ttname"><a href="namespacepvr_1_1utils.html#ad7010e7802edc5e1cc101034ac386d37">pvr::utils::loadAndUploadImageAndView</a></div><div class="ttdeci">pvrvk::ImageView loadAndUploadImageAndView(pvrvk::Device &amp;device, const char *fileName, bool allowDecompress, pvrvk::CommandBuffer &amp;commandBuffer, IAssetProvider &amp;assetProvider, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, Texture *outAssetTexture=nullptr, vma::Allocator *stagingBufferAllocator=nullptr, vma::Allocator *imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Load and upload image to gpu. The upload command and staging buffers are recorded in the commandbuffe...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a5aa9ef93f949ec94122ac1f5d915f8a0"><div class="ttname"><a href="namespacepvr_1_1utils.html#a5aa9ef93f949ec94122ac1f5d915f8a0">pvr::utils::setImageLayoutAndQueueFamilyOwnership</a></div><div class="ttdeci">void setImageLayoutAndQueueFamilyOwnership(pvrvk::CommandBufferBase srccmd, pvrvk::CommandBufferBase dstcmd, uint32_t srcQueueFamily, uint32_t dstQueueFamily, pvrvk::ImageLayout oldLayout, pvrvk::ImageLayout newLayout, pvrvk::Image image, uint32_t baseMipLevel, uint32_t numMipLevels, uint32_t baseArrayLayer, uint32_t numArrayLayers, pvrvk::ImageAspectFlags aspect)</div><div class="ttdoc">Set image layout and queue family ownership</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a680ef5943947e565f7d14aa9ff0393d9"><div class="ttname"><a href="namespacepvr_1_1utils.html#a680ef5943947e565f7d14aa9ff0393d9">pvr::utils::createInstance</a></div><div class="ttdeci">pvrvk::Instance createInstance(const std::string &amp;applicationName, VulkanVersion apiVersion=VulkanVersion(), const InstanceExtensions &amp;instanceExtensions=InstanceExtensions(), const InstanceLayers &amp;instanceLayers=InstanceLayers())</div><div class="ttdoc">Utility function for creating a Vulkan instance and supported physical devices using the appropriatel...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a31577c3e0b7564dde7e0e46c252317d3"><div class="ttname"><a href="namespacepvr_1_1utils.html#a31577c3e0b7564dde7e0e46c252317d3">pvr::utils::createSwapchain</a></div><div class="ttdeci">pvrvk::Swapchain createSwapchain(pvrvk::Device &amp;device, const pvrvk::Surface &amp;surface, pvr::DisplayAttributes &amp;displayAttributes, pvrvk::Format *preferredColorFormats, uint32_t numColorFormats, pvrvk::ImageUsageFlags swapchainImageUsageFlags=pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT)</div><div class="ttdoc">Create a pvrvk::Swapchain using a pre-initialised pvrvk::Device and pvrvk::Surface choosing the color...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_ad0c9ce4267ec635305fc87aba0b9d9c2"><div class="ttname"><a href="namespacepvr_1_1utils.html#ad0c9ce4267ec635305fc87aba0b9d9c2">pvr::utils::create3dPlaneMesh</a></div><div class="ttdeci">void create3dPlaneMesh(uint32_t width, uint32_t depth, bool generateTexCoords, bool generateNormalCoords, assets::Mesh &amp;outMesh)</div><div class="ttdoc">Creates a 3d plane mesh based on the width and depth specified. Texture coordinates and normal coordi...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_ac66fa9a9c7f8232c3f5aa3f41106cfea"><div class="ttname"><a href="namespacepvr_1_1utils.html#ac66fa9a9c7f8232c3f5aa3f41106cfea">pvr::utils::appendSingleBuffersFromModel</a></div><div class="ttdeci">void appendSingleBuffersFromModel(pvrvk::Device &amp;device, const assets::Model &amp;model, VboContainer_ &amp;vbos, IboContainer_ &amp;ibos, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator *bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a set of VBOs and a set of IBOs from the vertex data of the meshes of a model and appe...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1185</div></div>
<div class="ttc" id="namespacepvr_1_1ui_html_a0ce5fbb4f414c19b064979401b3c60bf"><div class="ttname"><a href="namespacepvr_1_1ui.html#a0ce5fbb4f414c19b064979401b3c60bf">pvr::ui::Image</a></div><div class="ttdeci">RefCountedResource&lt; impl::Image_ &gt; Image</div><div class="ttdoc">A Reference Counted Framework Object wrapping the Image_ class. The Image is a Sprite and contains a ...</div><div class="ttdef"><b>Definition:</b> SpriteGles.h:85</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vertex_bindings___name_html_a20e78764d5aab84abdc052ea3e43a965"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings___name.html#a20e78764d5aab84abdc052ea3e43a965">pvr::utils::VertexBindings_Name::semantic</a></div><div class="ttdeci">StringHash semantic</div><div class="ttdoc">Effect semantic.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:750</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vertex_bindings___name_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings___name.html">pvr::utils::VertexBindings_Name</a></div><div class="ttdoc">Represents a shader Reflective binding, tying a Semantic name to an Attribute variable name...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:747</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_populate_info_html_ad38c982d524591f2b715b130a8c9f697"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#ad38c982d524591f2b715b130a8c9f697">pvr::utils::QueuePopulateInfo::priority</a></div><div class="ttdeci">float priority</div><div class="ttdoc">Specifies the priority which should be given to the retrieved queue.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:445</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_device_extensions_html_ab080c06dadfec28a35acd108a24a87c6"><div class="ttname"><a href="structpvr_1_1utils_1_1_device_extensions.html#ab080c06dadfec28a35acd108a24a87c6">pvr::utils::DeviceExtensions::DeviceExtensions</a></div><div class="ttdeci">DeviceExtensions()</div><div class="ttdoc">Default constructor. Initialises a list of device extensions to be used by default when using the Fra...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:475</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a74171c9f0e1ea8f1eac9a991349389a6"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a74171c9f0e1ea8f1eac9a991349389a6">pvr::utils::ImageUpdateInfo::cubeFace</a></div><div class="ttdeci">uint32_t cubeFace</div><div class="ttdoc">Valid for Cube texture updates only. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:319</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a5d3d1522b9db9f69b91090f918ccc8c0"><div class="ttname"><a href="namespacepvr_1_1utils.html#a5d3d1522b9db9f69b91090f918ccc8c0">pvr::utils::generateTextureAtlas</a></div><div class="ttdeci">void generateTextureAtlas(pvrvk::Device &amp;device, const pvrvk::Image *inputImages, pvrvk::Rect2Df *outUVs, uint32_t numImages, pvrvk::ImageLayout inputImageLayout, pvrvk::ImageView *outImageView, TextureHeader *outDescriptor, pvrvk::CommandBufferBase cmdBuffer, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, vma::Allocator *imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Utility function for generating a texture atlas based on a set of images.</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_access_info_html_a6d0e303c656d8312932d268db869596a"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_access_info.html#a6d0e303c656d8312932d268db869596a">pvr::utils::QueueAccessInfo::familyId</a></div><div class="ttdeci">uint32_t familyId</div><div class="ttdoc">The queue family identifier the queue with queueId was retrieved from.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:464</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a1e9a18d03439c5efe7d88dbb3c16b783"><div class="ttname"><a href="namespacepvr_1_1utils.html#a1e9a18d03439c5efe7d88dbb3c16b783">pvr::utils::populateViewportStateCreateInfo</a></div><div class="ttdeci">void populateViewportStateCreateInfo(const pvrvk::Framebuffer &amp;framebuffer, pvrvk::PipelineViewportStateCreateInfo &amp;outCreateInfo)</div><div class="ttdoc">Fills out a pvrvk::ViewportStateCreateInfo structure setting parameters for a &#39;default&#39; viewport and ...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:729</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_access_info_html_ae5df4d78d8d64b5009b8c5a9e36c0e23"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_access_info.html#ae5df4d78d8d64b5009b8c5a9e36c0e23">pvr::utils::QueueAccessInfo::queueId</a></div><div class="ttdeci">uint32_t queueId</div><div class="ttdoc">The queue identifier for the retrieved queue in queue family with identifier familyId.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:467</div></div>
<div class="ttc" id="classpvr_1_1_multi_html"><div class="ttname"><a href="classpvr_1_1_multi.html">pvr::Multi</a></div><div class="ttdoc">A small statically allocated array This class represents a small array of items. The array is statica...</div><div class="ttdef"><b>Definition:</b> MultiObject.h:17</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a06f94be9a865755c8bafaac56f286b01"><div class="ttname"><a href="namespacepvr_1_1utils.html#a06f94be9a865755c8bafaac56f286b01">pvr::utils::createSingleBuffersFromMeshes</a></div><div class="ttdeci">void createSingleBuffersFromMeshes(pvrvk::Device &amp;device, MeshIterator_ meshIter, MeshIterator_ meshIterEnd, VboInsertIterator_ outVbos, IboInsertIterator_ outIbos, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator *bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a set of VBOs and a set of IBOs from the vertex data of multiple meshes and uses std::...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1025</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vulkan_version_html_a6c8a350c06cf3c659a092f0688f860b2"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#a6c8a350c06cf3c659a092f0688f860b2">pvr::utils::VulkanVersion::minorV</a></div><div class="ttdeci">uint32_t minorV</div><div class="ttdoc">The minor version number.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1330</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a98e4ac9990af6eaf6b9bf0928f2bd07d"><div class="ttname"><a href="namespacepvr_1_1utils.html#a98e4ac9990af6eaf6b9bf0928f2bd07d">pvr::utils::populateClearValues</a></div><div class="ttdeci">void populateClearValues(const pvrvk::RenderPass &amp;renderpass, const pvrvk::ClearValue &amp;clearColor, const pvrvk::ClearValue &amp;clearDepthStencilValue, pvrvk::ClearValue *outClearValues)</div><div class="ttdoc">Populate color and depthstencil clear values</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1244</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a7088e032f08263a7d72acafbd6c93fca"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a7088e032f08263a7d72acafbd6c93fca">pvr::utils::ImageUpdateInfo::dataHeight</a></div><div class="ttdeci">uint32_t dataHeight</div><div class="ttdoc">Valid for 2D, 3D and Cube texture updates. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:316</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_instance_extensions_html_a494d9b581ffb708349599aabc2a5838a"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_extensions.html#a494d9b581ffb708349599aabc2a5838a">pvr::utils::InstanceExtensions::extensionStrings</a></div><div class="ttdeci">std::vector&lt; std::string &gt; extensionStrings</div><div class="ttdoc">A list of instance extensions. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:529</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a8ea166ded6ff46a11573815a99f42869"><div class="ttname"><a href="namespacepvr_1_1utils.html#a8ea166ded6ff46a11573815a99f42869">pvr::utils::setImageLayout</a></div><div class="ttdeci">void setImageLayout(pvrvk::Image image, pvrvk::ImageLayout oldLayout, pvrvk::ImageLayout newLayout, pvrvk::CommandBufferBase transitionCmdBuffer)</div><div class="ttdoc">Set image layout</div><div class="ttdef"><b>Definition:</b> HelperVk.h:135</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_acecac80786da19a6303dbf72345c16a9"><div class="ttname"><a href="namespacepvr_1_1utils.html#acecac80786da19a6303dbf72345c16a9">pvr::utils::createBuffer</a></div><div class="ttdeci">pvrvk::Buffer createBuffer(pvrvk::Device device, VkDeviceSize size, pvrvk::BufferUsageFlags bufferUsage, pvrvk::MemoryPropertyFlags requiredMemoryFlags, pvrvk::MemoryPropertyFlags optimalMemoryFlags=pvrvk::MemoryPropertyFlags::e_NONE, vma::Allocator *bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT, pvrvk::BufferCreateFlags bufferCreateFlags=pvrvk::BufferCreateFlags(0), pvrvk::SharingMode sharingMode=pvrvk::SharingMode::e_EXCLUSIVE, const uint32_t *queueFamilyIndices=nullptr, uint32_t numQueueFamilyIndices=0)</div><div class="ttdoc">Create a new buffer object and (optionally) allocate and bind memory for it</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vulkan_version_html_a3e1b806e01b77ae8589182a3d55cb00d"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#a3e1b806e01b77ae8589182a3d55cb00d">pvr::utils::VulkanVersion::patchV</a></div><div class="ttdeci">uint32_t patchV</div><div class="ttdoc">The patch version number.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1332</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_ae8eb6603e41f6af5b9ddfbe6d6485570"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#ae8eb6603e41f6af5b9ddfbe6d6485570">pvr::utils::ImageUpdateInfo::imageWidth</a></div><div class="ttdeci">uint32_t imageWidth</div><div class="ttdoc">Valid for all. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:306</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vulkan_version_html_a93aa7e756fb29313e3556bb4f5c10f3a"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#a93aa7e756fb29313e3556bb4f5c10f3a">pvr::utils::VulkanVersion::VulkanVersion</a></div><div class="ttdeci">VulkanVersion(uint32_t majorV=1, uint32_t minorV=1, uint32_t patchV=0)</div><div class="ttdoc">Default constructor for the VulkanVersion structure initiailising the version to the first Vulkan rel...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1338</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_instance_layers_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_layers.html">pvr::utils::InstanceLayers</a></div><div class="ttdoc">Container for a list of instance layers to be used for initiailising an instance using the helper fun...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:502</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a04b412166c06b4293b7eaa1bf6857f50"><div class="ttname"><a href="namespacepvr_1_1utils.html#a04b412166c06b4293b7eaa1bf6857f50">pvr::utils::createDebugReportCallback</a></div><div class="ttdeci">pvrvk::DebugReportCallback createDebugReportCallback(pvrvk::Instance &amp;instance, pvrvk::DebugReportFlagsEXT flags=pvrvk::DebugReportFlagsEXT::e_ERROR_BIT_EXT|pvrvk::DebugReportFlagsEXT::e_PERFORMANCE_WARNING_BIT_EXT|pvrvk::DebugReportFlagsEXT::e_WARNING_BIT_EXT, PFN_vkDebugReportCallbackEXT callback=pvr::utils::logMessageDebugReportCallback, void *userData=nullptr)</div><div class="ttdoc">Create a DebugReportCallback providing an application callback for events of interest to the applicat...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a21012ef6146e3eb4d55ac09d0be368fd"><div class="ttname"><a href="namespacepvr_1_1utils.html#a21012ef6146e3eb4d55ac09d0be368fd">pvr::utils::createSwapchainAndDepthStencilImageAndViews</a></div><div class="ttdeci">void createSwapchainAndDepthStencilImageAndViews(pvrvk::Device &amp;device, const pvrvk::Surface &amp;surface, pvr::DisplayAttributes &amp;displayAttributes, pvrvk::Swapchain &amp;outSwapchain, Multi&lt; pvrvk::ImageView &gt; &amp;outDepthStencil, pvrvk::Format *preferredColorFormats, uint32_t numColorFormats, pvrvk::Format *preferredDepthStencilFormats, uint32_t numDepthStencilFormats, const pvrvk::ImageUsageFlags &amp;swapchainImageUsageFlags=pvrvk::ImageUsageFlags::e_COLOR_ATTACHMENT_BIT, const pvrvk::ImageUsageFlags &amp;dsImageUsageFlags=pvrvk::ImageUsageFlags::e_DEPTH_STENCIL_ATTACHMENT_BIT|pvrvk::ImageUsageFlags::e_TRANSIENT_ATTACHMENT_BIT, vma::Allocator *dsImageAllocator=nullptr, vma::AllocationCreateFlags dsImageAllocationCreateFlags=vma::AllocationCreateFlags::e_DEDICATED_MEMORY_BIT)</div><div class="ttdoc">Create a pvrvk::Swapchain and corresponding number of depth stencil images using a pre-initialised pv...</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_instance_layers_html_a847198ad122769b11e33da68c05725cd"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_layers.html#a847198ad122769b11e33da68c05725cd">pvr::utils::InstanceLayers::InstanceLayers</a></div><div class="ttdeci">InstanceLayers(bool forceLayers=false)</div><div class="ttdoc">Default constructor. Initialises the list of instance layers based on whether the build is Debug/Rele...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:510</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_device_extensions_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_device_extensions.html">pvr::utils::DeviceExtensions</a></div><div class="ttdoc">Container for a list of device extensions to be used for initiailising a device using the helper func...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:471</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a34226196d1cd435e8f19abecc2d3b0eb"><div class="ttname"><a href="namespacepvr_1_1utils.html#a34226196d1cd435e8f19abecc2d3b0eb">pvr::utils::createDeviceAndQueues</a></div><div class="ttdeci">pvrvk::Device createDeviceAndQueues(pvrvk::PhysicalDevice physicalDevice, const QueuePopulateInfo *queueCreateInfos, uint32_t numQueueCreateInfos, QueueAccessInfo *outAccessInfo, const DeviceExtensions &amp;deviceExtensions=DeviceExtensions())</div><div class="ttdoc">Create the pvrvk::Device and the queues</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vulkan_version_html_ae034e617f8481394b0d37b6ddaa228fd"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#ae034e617f8481394b0d37b6ddaa228fd">pvr::utils::VulkanVersion::majorV</a></div><div class="ttdeci">uint32_t majorV</div><div class="ttdoc">The major version number.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1328</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a3555f264beaaf83ff1b84853a87a40fe"><div class="ttname"><a href="namespacepvr_1_1utils.html#a3555f264beaaf83ff1b84853a87a40fe">pvr::utils::getPerspectiveMatrix</a></div><div class="ttdeci">glm::mat4 getPerspectiveMatrix(float fovy, float aspect, float near1, float far1, float rotate=.0f)</div><div class="ttdoc">Create perspective matrix that trasform scenes that use Opengl Convention (+y up) to Vulkan Conventio...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:106</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_abca543a0c306d801f96b0cc6af848371"><div class="ttname"><a href="namespacepvr_1_1utils.html#abca543a0c306d801f96b0cc6af848371">pvr::utils::saveImage</a></div><div class="ttdeci">void saveImage(pvrvk::Image image, const pvrvk::ImageLayout imageInitialLayout, const pvrvk::ImageLayout imageFinalLayout, pvrvk::CommandPool &amp;pool, pvrvk::Queue &amp;queue, const std::string &amp;filename, vma::Allocator *bufferAllocator=nullptr, vma::Allocator *imageAllocator=nullptr, const uint32_t screenshotScale=1)</div><div class="ttdoc">Saves the input image as a TGA file with the filename specified. Note that the image must have been c...</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_instance_extensions_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_extensions.html">pvr::utils::InstanceExtensions</a></div><div class="ttdoc">Container for a list of instance extensions to be used for initiailising an instance using the helper...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:527</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_instance_layers_html_a80f41cec0f1759be144113066bdcd68c"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_layers.html#a80f41cec0f1759be144113066bdcd68c">pvr::utils::InstanceLayers::layersStrings</a></div><div class="ttdeci">std::vector&lt; std::string &gt; layersStrings</div><div class="ttdoc">A list of instance layers.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:505</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_instance_extensions_html_a3578abfc0e4e90921df30baa73dd2194"><div class="ttname"><a href="structpvr_1_1utils_1_1_instance_extensions.html#a3578abfc0e4e90921df30baa73dd2194">pvr::utils::InstanceExtensions::InstanceExtensions</a></div><div class="ttdeci">InstanceExtensions()</div><div class="ttdoc">Default constructor. Initialises a list of instance extensions to be used by default when using the F...</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_ac885b6f537cb86c114be6696c3dc2fb6"><div class="ttname"><a href="namespacepvr_1_1utils.html#ac885b6f537cb86c114be6696c3dc2fb6">pvr::utils::updateBufferUsingStagingBuffer</a></div><div class="ttdeci">void updateBufferUsingStagingBuffer(pvrvk::Device &amp;device, pvrvk::Buffer &amp;buffer, pvrvk::CommandBufferBase uploadCmdBuffer, const void *data, VkDeviceSize offset=0, VkDeviceSize size=VK_WHOLE_SIZE, vma::Allocator *stagingBufferAllocator=nullptr)</div><div class="ttdoc">Utility function to update a buffer&#39;s data via an indirect copy from a temporary staging buffer...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:395</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a5ca384f4d2465e5f979e0d1c10f70394"><div class="ttname"><a href="namespacepvr_1_1utils.html#a5ca384f4d2465e5f979e0d1c10f70394">pvr::utils::uploadImageAndViewSubmit</a></div><div class="ttdeci">pvrvk::ImageView uploadImageAndViewSubmit(pvrvk::Device &amp;device, const Texture &amp;texture, bool allowDecompress, pvrvk::CommandPool &amp;cmdPool, pvrvk::Queue &amp;queue, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, vma::Allocator *stagingBufferAllocator=nullptr, vma::Allocator *imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Uploads an image to GPU memory and returns the created image view and associated image.</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_aa583027696be258fc78dd3156ffaece5"><div class="ttname"><a href="namespacepvr_1_1utils.html#aa583027696be258fc78dd3156ffaece5">pvr::utils::createSurface</a></div><div class="ttdeci">pvrvk::Surface createSurface(pvrvk::Instance &amp;instance, pvrvk::PhysicalDevice &amp;physicalDevice, void *window, void *display)</div><div class="ttdoc">Creates an abstract vulkan native platform surface.</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a1cbbbd1665449ea70d772de63595c806"><div class="ttname"><a href="namespacepvr_1_1utils.html#a1cbbbd1665449ea70d772de63595c806">pvr::utils::logMessageDebugReportCallback</a></div><div class="ttdeci">VKAPI_ATTR VkBool32 VKAPI_CALL logMessageDebugReportCallback(VkDebugReportFlagsEXT flags, VkDebugReportObjectTypeEXT objectType, uint64_t object, size_t location, int32_t messageCode, const char *pLayerPrefix, const char *pMessage, void *pUserData)</div><div class="ttdoc">An application DebugReportCallback function providing logging for various events.</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a618e4160bd8c24d9e0d394dc9511f4a3"><div class="ttname"><a href="namespacepvr_1_1utils.html#a618e4160bd8c24d9e0d394dc9511f4a3">pvr::utils::updateHostVisibleBuffer</a></div><div class="ttdeci">void updateHostVisibleBuffer(pvrvk::Buffer &amp;buffer, const void *data, VkDeviceSize offset=0, VkDeviceSize size=VK_WHOLE_SIZE, bool flushMemory=false)</div><div class="ttdoc">Utility function to update a buffer&#39;s data. This function maps and unmap the buffer only if the buffe...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:355</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a3bae3542769781673b17522db91c19b0"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a3bae3542769781673b17522db91c19b0">pvr::utils::ImageUpdateInfo::offsetY</a></div><div class="ttdeci">int32_t offsetY</div><div class="ttdoc">Valid for 2D, 3D and Cube texture updates. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:314</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_adca914d6eedd686a81a4f0e4cbbc3390"><div class="ttname"><a href="namespacepvr_1_1utils.html#adca914d6eedd686a81a4f0e4cbbc3390">pvr::utils::mapValidationTypeToLogLevel</a></div><div class="ttdeci">LogLevel mapValidationTypeToLogLevel(pvrvk::DebugReportFlagsEXT flags)</div><div class="ttdoc">Maps a set of VkDebugReportFlagsEXT to a particular type of log message.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1264</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a1b452f639a4e507f7d3bdfaf529da029"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a1b452f639a4e507f7d3bdfaf529da029">pvr::utils::ImageUpdateInfo::mipLevel</a></div><div class="ttdeci">uint32_t mipLevel</div><div class="ttdoc">Valid for all. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:309</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a94564335e1a4bb4afe501e4b90c9c25e"><div class="ttname"><a href="namespacepvr_1_1utils.html#a94564335e1a4bb4afe501e4b90c9c25e">pvr::utils::uploadImage</a></div><div class="ttdeci">pvrvk::Image uploadImage(pvrvk::Device &amp;device, const Texture &amp;texture, bool allowDecompress, pvrvk::CommandBuffer &amp;commandBuffer, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, vma::Allocator *stagingBufferAllocator=nullptr, vma::Allocator *imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Upload image to gpu. The upload command and staging buffers are recorded in the commandbuffer.</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_populate_info_html_ab303d9a7f5c55fcd9a13f272ae23b764"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#ab303d9a7f5c55fcd9a13f272ae23b764">pvr::utils::QueuePopulateInfo::surface</a></div><div class="ttdeci">pvrvk::Surface surface</div><div class="ttdoc">Indicates that the retrieved queue must support presentation to the provided surface.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:442</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_af9bdb2f2512ec72d5669ae3b870d7fa5"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#af9bdb2f2512ec72d5669ae3b870d7fa5">pvr::utils::ImageUpdateInfo::offsetZ</a></div><div class="ttdeci">int32_t offsetZ</div><div class="ttdoc">Valid for 3D texture updates only. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:322</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_ae6934715b675cba2e0a7454813b431a3"><div class="ttname"><a href="namespacepvr_1_1utils.html#ae6934715b675cba2e0a7454813b431a3">pvr::utils::createSingleBuffersFromMesh</a></div><div class="ttdeci">void createSingleBuffersFromMesh(pvrvk::Device &amp;device, const assets::Mesh &amp;mesh, pvrvk::Buffer &amp;outVbo, pvrvk::Buffer &amp;outIbo, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator *bufferAllocator=nullptr, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a single VBO and a single IBO from all the vertex data of a mesh.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:861</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vulkan_version_html_a4a7dfa46502a507457263578dd48e572"><div class="ttname"><a href="structpvr_1_1utils_1_1_vulkan_version.html#a4a7dfa46502a507457263578dd48e572">pvr::utils::VulkanVersion::toVulkanVersion</a></div><div class="ttdeci">uint32_t toVulkanVersion()</div><div class="ttdoc">Converts the major, minor and patch versions to a uint32_t which can be directly used when creating a...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1342</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html">pvr::utils::ImageUpdateInfo</a></div><div class="ttdoc">The ImageUpdateInfo struct.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:302</div></div>
<div class="ttc" id="_memory_allocator_8h_html"><div class="ttname"><a href="_memory_allocator_8h.html">MemoryAllocator.h</a></div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a95e0a5be7c444548e52a74c2f40faaa5"><div class="ttname"><a href="namespacepvr_1_1utils.html#a95e0a5be7c444548e52a74c2f40faaa5">pvr::utils::createMultipleBuffersFromMesh</a></div><div class="ttdeci">void createMultipleBuffersFromMesh(pvrvk::Device &amp;device, const assets::Mesh &amp;mesh, std::vector&lt; pvrvk::Buffer &gt; &amp;outVbos, pvrvk::Buffer &amp;outIbo, pvrvk::CommandBuffer &amp;uploadCmdBuffer, bool &amp;requiresCommandBufferSubmission, vma::Allocator *bufferAllocator, vma::AllocationCreateFlags vmaAllocationCreateFlags=vma::AllocationCreateFlags::e_MAPPED_BIT)</div><div class="ttdoc">Auto generates a set of VBOs and a single IBO from all the vertex data of a mesh.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:945</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_populate_info_html_a8f6a04a2c21acef02ed848f4de285643"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_populate_info.html#a8f6a04a2c21acef02ed848f4de285643">pvr::utils::QueuePopulateInfo::queueFlags</a></div><div class="ttdeci">pvrvk::QueueFlags queueFlags</div><div class="ttdoc">The queue flags the queue must support.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:439</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_queue_access_info_html"><div class="ttname"><a href="structpvr_1_1utils_1_1_queue_access_info.html">pvr::utils::QueueAccessInfo</a></div><div class="ttdoc">A structure encapsulating the family id and queue id of a particular queue retrieved via the helper f...</div><div class="ttdef"><b>Definition:</b> HelperVk.h:461</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a9bf319f2a39bf8149f2c8c4b36b1382a"><div class="ttname"><a href="namespacepvr_1_1utils.html#a9bf319f2a39bf8149f2c8c4b36b1382a">pvr::utils::loadAndUploadImage</a></div><div class="ttdeci">pvrvk::Image loadAndUploadImage(pvrvk::Device &amp;device, const char *fileName, bool allowDecompress, pvrvk::CommandBuffer &amp;commandBuffer, IAssetProvider &amp;assetProvider, pvrvk::ImageUsageFlags usageFlags=pvrvk::ImageUsageFlags::e_SAMPLED_BIT, pvrvk::ImageLayout finalLayout=pvrvk::ImageLayout::e_SHADER_READ_ONLY_OPTIMAL, Texture *outAssetTexture=nullptr, vma::Allocator *stagingBufferAllocator=nullptr, vma::Allocator *imageAllocator=nullptr, vma::AllocationCreateFlags imageAllocationCreateFlags=vma::AllocationCreateFlags::e_NONE)</div><div class="ttdoc">Load and upload image to gpu. The upload command and staging buffers are recorded in the commandbuffe...</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_vertex_bindings_html_a0179ccaad4acf5af997d6f1032b13404"><div class="ttname"><a href="structpvr_1_1utils_1_1_vertex_bindings.html#a0179ccaad4acf5af997d6f1032b13404">pvr::utils::VertexBindings::location</a></div><div class="ttdeci">int16_t location</div><div class="ttdoc">shader attribute location.</div><div class="ttdef"><b>Definition:</b> HelperVk.h:743</div></div>
<div class="ttc" id="namespacepvr_1_1utils_html_a7151c7b74ff657fc17ff09c0ab114a07"><div class="ttname"><a href="namespacepvr_1_1utils.html#a7151c7b74ff657fc17ff09c0ab114a07">pvr::utils::isFormatDepthStencil</a></div><div class="ttdeci">bool isFormatDepthStencil(pvrvk::Format format)</div><div class="ttdoc">Return true if the format is a depth stencil format</div><div class="ttdef"><b>Definition:</b> HelperVk.h:1232</div></div>
<div class="ttc" id="structpvr_1_1utils_1_1_image_update_info_html_a9c2480ee85781549db081da54c7cbf7b"><div class="ttname"><a href="structpvr_1_1utils_1_1_image_update_info.html#a9c2480ee85781549db081da54c7cbf7b">pvr::utils::ImageUpdateInfo::offsetX</a></div><div class="ttdeci">int32_t offsetX</div><div class="ttdoc">Valid for all. </div><div class="ttdef"><b>Definition:</b> HelperVk.h:305</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.4-->
<!-- start footer part (NON TREEVIEW ONLY!!) -->
<!--BEGIN GENERATE_TREEVIEW-->
<div id="FooterMainContainer">
	<div id="FooterContainer">
		<div class="footerlogo">
			<a href="http://www.imgtec.com" target="_blank"><img src="img-footer-logo-grey.png" width="100%" height="100%" border="none" /></a>
		</div>
		<div class="copyright"><p>&copy; Imagination Technologies Limited<br> All rights reserved</p></div>
	</div>
</div>
</body>
</html>
